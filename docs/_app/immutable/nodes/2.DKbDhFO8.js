import"../chunks/DsnmJJEf.js";import{i as Fe}from"../chunks/BhtY715V.js";import{w as We,aE as Va,aF as Ka,aG as Ua,aH as Za,aI as Ja,aJ as Qa,F as nt,e as N,M as Ma,aK as en,p as Ne,aL as Be,aM as ot,l as ce,t as ye,a as re,m as Xe,T as m,R as T,n as d,o as u,q as v,h as a,aN as fe,aO as Ke,f as tn,aP as an}from"../chunks/BGg158e2.js";import{b as nn,l as xa,w as Gt,d as sn,g as Pe,s as Q,e as k,o as Pt,c as on,f as wa,i as ln}from"../chunks/B19_yFmH.js";import{i as Ce,s as lt,a as ze,p as Nt,b as Le}from"../chunks/Cv05pqdj.js";const Xt=[...` 	
\r\fÂ \v\uFEFF`];function rn(e,t,i){var s=e==null?"":""+e;if(i){for(var n in i)if(i[n])s=s?s+" "+n:n;else if(s.length)for(var o=n.length,r=0;(r=s.indexOf(n,r))>=0;){var l=r+o;(r===0||Xt.includes(s[r-1]))&&(l===s.length||Xt.includes(s[l]))?s=(r===0?"":s.substring(0,r))+s.substring(l+1):r=l}}return s===""?null:s}function cn(e,t){return e==null?null:String(e)}function ke(e,t,i,s,n,o){var r=e.__className;if(We||r!==i||r===void 0){var l=rn(i,s,o);(!We||l!==e.getAttribute("class"))&&(l==null?e.removeAttribute("class"):e.className=l),e.__className=i}else if(o&&n!==o)for(var h in o){var f=!!o[h];(n==null||f!==!!n[h])&&e.classList.toggle(h,f)}return o}function He(e,t,i,s){var n=e.__style;if(We||n!==t){var o=cn(t);(!We||o!==e.getAttribute("style"))&&(o==null?e.removeAttribute("style"):e.style.cssText=o),e.__style=t}return s}const dn=Symbol("is custom element"),un=Symbol("is html");function q(e){if(We){var t=!1,i=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var s=e.value;gt(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var n=e.checked;gt(e,"checked",null),e.checked=n}}};e.__on_r=i,Za(i),nn()}}function je(e,t){var i=$t(e);i.value===(i.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Ht(e,t){var i=$t(e);i.checked!==(i.checked=t??void 0)&&(e.checked=t)}function gt(e,t,i,s){var n=$t(e);We&&(n[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||n[t]!==(n[t]=i)&&(t==="loading"&&(e[Ja]=i),i==null?e.removeAttribute(t):typeof i!="string"&&vn(e).includes(t)?e[t]=i:e.setAttribute(t,i))}function $t(e){return e.__attributes??={[dn]:e.nodeName.includes("-"),[un]:e.namespaceURI===Va}}var Yt=new Map;function vn(e){var t=Yt.get(e.nodeName);if(t)return t;Yt.set(e.nodeName,t=[]);for(var i,s=e,n=Element.prototype;n!==s;){i=Ua(s);for(var o in i)i[o].set&&t.push(o);s=Ka(s)}return t}function be(e,t,i=t){var s=Qa(),n=new WeakSet;xa(e,"input",o=>{var r=o?e.defaultValue:e.value;if(r=At(e)?kt(r):r,i(r),nt!==null&&n.add(nt),s&&r!==(r=t())){var l=e.selectionStart,h=e.selectionEnd;e.value=r??"",h!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(h,e.value.length))}}),(We&&e.defaultValue!==e.value||N(t)==null&&e.value)&&(i(At(e)?kt(e.value):e.value),nt!==null&&n.add(nt)),Ma(()=>{var o=t();if(e===document.activeElement){var r=en??nt;if(n.has(r))return}At(e)&&o===kt(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function tt(e,t,i=t){xa(e,"change",s=>{var n=s?e.defaultChecked:e.checked;i(n)}),(We&&e.defaultChecked!==e.checked||N(t)==null)&&i(e.checked),Ma(()=>{var s=t();e.checked=!!s})}function At(e){var t=e.type;return t==="number"||t==="range"}function kt(e){return e===""?null:+e}const Aa="zenZoneTimerSettings",Lt={workDuration:Math.max(1,25)*60,shortBreakDuration:Math.max(1,5)*60,longBreakDuration:Math.max(1,15)*60,sessionsBeforeLongBreak:Math.max(1,4),autoCycle:!1};function It(e){const t={...Lt,...e};return t.workDuration=Math.max(1,Math.floor(t.workDuration/60))*60,t.shortBreakDuration=Math.max(1,Math.floor(t.shortBreakDuration/60))*60,t.longBreakDuration=Math.max(1,Math.floor(t.longBreakDuration/60))*60,t.sessionsBeforeLongBreak=Math.max(1,Math.floor(t.sessionsBeforeLongBreak)),t}function ka(){if(typeof window<"u"&&window.localStorage){const e=localStorage.getItem(Aa);if(e)try{const t=JSON.parse(e);if(t&&typeof t.workDuration=="number"&&typeof t.shortBreakDuration=="number"&&typeof t.longBreakDuration=="number"&&typeof t.sessionsBeforeLongBreak=="number"&&typeof t.autoCycle=="boolean")return It(t);if(t)return console.warn("Partially invalid settings found in localStorage, attempting to sanitize."),It(t)}catch(t){console.error("Error parsing timer settings from localStorage:",t)}}return It(Lt)}const gn=ka(),hn={currentSession:"Work",timeRemaining:gn.workDuration,isRunning:!1,currentCycleCount:0},Ee=Gt(ka()),Me=Gt(hn);typeof window<"u"&&window.localStorage&&Ee.subscribe(e=>{try{localStorage.setItem(Aa,JSON.stringify(e))}catch(t){console.error("Error saving timer settings to localStorage:",t)}});const pn=sn(Me,e=>{const t=Math.floor(e.timeRemaining/60),i=e.timeRemaining%60;return`${String(t).padStart(2,"0")}:${String(i).padStart(2,"0")}`});let Ie;function Ia(){const e=Pe(Me);if(e.isRunning&&e.timeRemaining>0)return;let t=e.timeRemaining;if(t<=0){const i=Pe(Ee);switch(e.currentSession){case"Work":t=i.workDuration;break;case"Short Break":t=i.shortBreakDuration;break;case"Long Break":t=i.longBreakDuration;break}}Me.update(i=>({...i,isRunning:!0,timeRemaining:t})),Ie&&clearInterval(Ie),Ie=setInterval(()=>{const i=Pe(Me);i.isRunning&&i.timeRemaining>0?Me.update(s=>({...s,timeRemaining:s.timeRemaining-1})):i.isRunning&&i.timeRemaining<=0&&(Ie&&clearInterval(Ie),Ie=void 0,bn())},1e3)}function fn(){Ie&&(clearInterval(Ie),Ie=void 0),Me.update(e=>({...e,isRunning:!1}))}function mn(){Ie&&(clearInterval(Ie),Ie=void 0),Me.update(e=>{let t,i,s=e.currentCycleCount,n=Lt;return Ee.subscribe(r=>{n=r})(),e.currentSession==="Work"?(s++,s>=n.sessionsBeforeLongBreak?(t="Long Break",i=n.longBreakDuration,s=0):(t="Short Break",i=n.shortBreakDuration)):(t="Work",i=n.workDuration),{...e,currentSession:t,timeRemaining:i,isRunning:!1,currentCycleCount:s}})}function Ra(e){Ie&&(clearInterval(Ie),Ie=void 0);const t=Pe(Ee),i=e||Pe(Me).currentSession;let s=t.workDuration,n=Pe(Me).currentCycleCount;switch(i){case"Work":s=t.workDuration,e==="Work"&&(n=0);break;case"Short Break":s=t.shortBreakDuration;break;case"Long Break":s=t.longBreakDuration;break}Me.update(o=>({...o,currentSession:i,timeRemaining:s,isRunning:!1,currentCycleCount:n}))}function Wt(e){Me.update(t=>{if(t.isRunning)return t;const i=Math.max(60,e);return Ee.update(s=>{const n={...s};switch(t.currentSession){case"Work":n.workDuration=i;break;case"Short Break":n.shortBreakDuration=i;break;case"Long Break":n.longBreakDuration=i;break}return n}),{...t,timeRemaining:i}})}function bn(){const e=Pe(Me),t=Pe(Ee);let i,s=e.currentCycleCount;e.currentSession==="Work"?(s++,s>=t.sessionsBeforeLongBreak?(i="Long Break",s=0):i="Short Break"):i="Work",Me.update(n=>({...n,currentSession:i,isRunning:!1,currentCycleCount:s})),Ra(i),t.autoCycle&&Ia()}var yn=ce('<div class="mx-2 flex scale-75 flex-col items-center justify-center opacity-60 transition-opacity hover:opacity-100"><button title="Increase minutes" aria-label="Increase minutes" class="p-1 text-gray-300 hover:text-teal-300 disabled:opacity-30"><svg class="h-8 w-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path></svg></button> <button title="Decrease minutes" aria-label="Decrease minutes" class="p-1 text-gray-300 hover:text-teal-300 disabled:opacity-30"><svg class="h-8 w-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button></div>'),_n=ce('<div class="mt-2 mb-8 text-center"><p class="mb-2 text-xl font-semibold text-teal-400" id="current-session-label"> </p> <div class="relative flex items-center justify-center font-mono text-8xl tracking-tighter text-gray-100 tabular-nums select-none svelte-1sjqirj" aria-live="polite" aria-atomic="true"><!> <span class="w-32 text-center"> </span> <span class="w-8 text-center">:</span> <span class="w-32 text-center"> </span></div> <div class="mt-6 h-2.5 w-full overflow-hidden rounded-full bg-slate-700 shadow-inner"><div class="h-2.5 rounded-full bg-teal-500 transition-all duration-1000 ease-linear" aria-valuemin="0" aria-valuemax="100" aria-labelledby="current-session-label" role="progressbar"></div></div></div>');function Sn(e,t){Ne(t,!1);const[i,s]=lt(),n=()=>ze(Me,"$timerState",i),o=()=>ze(Ee,"$timerSettings",i),r=()=>ze(pn,"$formattedTime",i),l=T(),h=T();let f=T(0);function p(){if(n().isRunning)return;const G=Math.floor(n().timeRemaining/60),F=n().timeRemaining%60,P=(G+1)*60+F;Wt(P)}function y(){if(n().isRunning)return;const G=Math.floor(n().timeRemaining/60),F=n().timeRemaining%60,P=Math.max(0,G-1)*60+F;Wt(P)}Be(()=>(n(),o()),()=>{const G=n(),F=o();let P=F.workDuration;G.currentSession==="Short Break"?P=F.shortBreakDuration:G.currentSession==="Long Break"&&(P=F.longBreakDuration),P=Math.max(1,P),P>0?m(f,Math.max(0,100-G.timeRemaining/P*100)):m(f,G.timeRemaining>0?0:100)}),Be(()=>r(),()=>{m(l,r().substring(0,2))}),Be(()=>r(),()=>{m(h,r().substring(3,5))}),ot(),Fe();var M=_n(),g=d(M),c=d(g,!0);u(g);var w=v(g,2),A=d(w);{var C=G=>{var F=yn(),P=d(F),X=v(P,2);u(F),ye(()=>{P.disabled=(n(),N(()=>n().isRunning)),X.disabled=(n(),N(()=>n().isRunning||n().timeRemaining<120&&n().timeRemaining%60===0&&n().timeRemaining/60<=1||n().timeRemaining<60))}),k("click",P,p),k("click",X,y),re(G,F)};Ce(A,G=>{n(),N(()=>!n().isRunning)&&G(C)})}var _=v(A,2),j=d(_,!0);u(_);var O=v(_,4),I=d(O,!0);u(O),u(w);var B=v(w,2),D=d(B);u(B),u(M),ye(()=>{Q(c,(n(),N(()=>n().currentSession))),Q(j,a(l)),Q(I,a(h)),He(D,`width: ${a(f)??""}%;`),gt(D,"aria-valuenow",a(f))}),re(e,M),Xe(),s()}var Mn=ce(`<button class="rounded-md border border-slate-400/30 bg-white/10 px-6 py-3 text-base font-semibold
             text-slate-200 transition-all duration-150 ease-in-out hover:bg-white/20 hover:text-teal-300
             focus:ring-2 focus:ring-teal-400
             focus:ring-offset-2 focus:ring-offset-slate-900/50 focus:outline-none disabled:cursor-not-allowed disabled:opacity-50"> </button>`),xn=ce(`<button class="rounded-md border border-slate-400/30 bg-white/10 px-6 py-3 text-base font-semibold
             text-slate-200 transition-all duration-150 ease-in-out hover:bg-white/20 hover:text-amber-300
             focus:ring-2 focus:ring-amber-300
             focus:ring-offset-2 focus:ring-offset-slate-900/50 focus:outline-none disabled:cursor-not-allowed disabled:opacity-50" aria-label="Pause timer">Pause</button>`),wn=ce(`<div class="mt-6 flex justify-center space-x-2"><!> <button class="rounded-md border border-slate-400/30 bg-white/10 px-6 py-3 text-base font-semibold
           text-slate-200 transition-all duration-150 ease-in-out hover:bg-white/20 hover:text-sky-300
           focus:ring-2 focus:ring-sky-400
           focus:ring-offset-2 focus:ring-offset-slate-900/50 focus:outline-none disabled:cursor-not-allowed disabled:opacity-50" aria-label="Skip to next session" title="Skip to next session">Skip <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="ml-1 inline h-5 w-5 align-text-bottom"><path fill-rule="evenodd" d="M2 10a.75.75 0 0 1 .75-.75h12.59l-2.1-1.95a.75.75 0 1 1 1.02-1.1l3.5 3.25a.75.75 0 0 1 0 1.1l-3.5 3.25a.75.75 0 1 1-1.02-1.1l2.1-1.95H2.75A.75.75 0 0 1 2 10Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M18 10a.75.75 0 0 1-.75.75h-.008a.75.75 0 0 1 0-1.5h.008A.75.75 0 0 1 18 10Z" clip-rule="evenodd"></path></svg></button> <button class="rounded-md border border-slate-400/30 bg-white/10 px-6 py-3 text-base font-semibold
           text-slate-200 transition-all duration-150 ease-in-out hover:bg-white/20 hover:text-rose-300
           focus:ring-2 focus:ring-rose-400
           focus:ring-offset-2 focus:ring-offset-slate-900/50 focus:outline-none disabled:cursor-not-allowed disabled:opacity-50" aria-label="Reset current session timer" title="Reset current session">Reset <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="ml-1 inline h-5 w-5 align-text-bottom"><path fill-rule="evenodd" d="M15.323 3.407a.75.75 0 0 1 0 1.06l-2.096 2.096A6.5 6.5 0 0 1 10 16.5a6.501 6.501 0 0 1-6.414-5.523.75.75 0 0 1 1.482-.236A5.001 5.001 0 0 0 10 15a5 5 0 0 0 4.19-2.402l-1.618 1.617a.75.75 0 1 1-1.06 1.061l3.25-3.25a.75.75 0 0 1 0-1.06l-3.25-3.25a.75.75 0 0 1-1.06 0Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M4.677 12.593a.75.75 0 0 1 0-1.06l2.096-2.096A6.5 6.5 0 0 1 10 3.5a6.501 6.501 0 0 1 6.414 5.523.75.75 0 0 1-1.482.236A5.001 5.001 0 0 0 10 5a5 5 0 0 0-4.19 2.402l1.618-1.617a.75.75 0 1 1 1.06-1.061L5.238 8.075a.75.75 0 0 1 0 1.06l3.25 3.25a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd"></path></svg></button></div>`);function An(e,t){Ne(t,!1);const[i,s]=lt(),n=()=>ze(Me,"$timerState",i),o=()=>ze(Ee,"$timerSettings",i);let r=T();Be(()=>(n(),o()),()=>{const g=n(),c=o();m(r,!g.timeRemaining||g.currentSession==="Work"&&g.timeRemaining===c.workDuration||g.currentSession==="Short Break"&&g.timeRemaining===c.shortBreakDuration||g.currentSession==="Long Break"&&g.timeRemaining===c.longBreakDuration)}),ot(),Fe();var l=wn(),h=d(l);{var f=g=>{var c=Mn(),w=d(c,!0);u(c),ye(()=>{gt(c,"aria-label",a(r)?"Start timer":"Resume timer"),Q(w,a(r)?"Start":"Resume")}),k("click",c,function(...A){Ia?.apply(this,A)}),re(g,c)},p=g=>{var c=xn();k("click",c,function(...w){fn?.apply(this,w)}),re(g,c)};Ce(h,g=>{n(),N(()=>!n().isRunning)?g(f):g(p,!1)})}var y=v(h,2),M=v(y,2);u(l),ye(()=>{y.disabled=(n(),N(()=>n().isRunning)),M.disabled=(n(),a(r),N(()=>n().isRunning&&a(r)))}),k("click",y,function(...g){mn?.apply(this,g)}),k("click",M,()=>Ra()),re(e,l),Xe(),s()}const qt=20,$e={gradientColor1:"hsl(210, 70%, 50%)",gradientColor2:"hsl(200, 68%, 50%)",isFloatingEnabled:!0,gradientColor1History:["hsl(210, 70%, 50%)"],gradientColor1HistoryIndex:0,gradientColor2History:["hsl(200, 68%, 50%)"],gradientColor2HistoryIndex:0,isAutoCyclingColor1:!1,isAutoCyclingColor2:!1,sunGlowEnabled:!0,sunGlowIntensity:.7,sunGlowSize:150,sunGlowBlur:60,glintsEnabled:!0,glintFrequency:20,glintBrightness:.8,glintDuration:500,glintSize:4};function Ca(e){if(!e)return null;const t=e.match(/hsl\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*\)/);return t?{h:parseInt(t[1]),s:parseInt(t[2]),l:parseInt(t[3])}:null}function jt(){const e=Pe(xe);return Ca(e.gradientColor1)||{h:210,s:70,l:50}}function Vt(){const e=Pe(xe);return Ca(e.gradientColor2)||{h:200,s:68,l:50}}function kn(){let e={...$e,gradientColor1History:[...$e.gradientColor1History],gradientColor2History:[...$e.gradientColor2History]};if(typeof localStorage<"u"){const t=localStorage.getItem("backgroundSettings");if(t)try{const i=JSON.parse(t);e={...e,...i,isAutoCyclingColor1:i.isAutoCyclingColor1??$e.isAutoCyclingColor1,isAutoCyclingColor2:i.isAutoCyclingColor2??$e.isAutoCyclingColor2},!i.gradientColor1History||i.gradientColor1History.length===0?(e.gradientColor1History=[e.gradientColor1],e.gradientColor1HistoryIndex=0):(e.gradientColor1HistoryIndex=Math.max(0,Math.min(i.gradientColor1HistoryIndex??0,i.gradientColor1History.length-1)),e.gradientColor1=i.gradientColor1History[e.gradientColor1HistoryIndex]),!i.gradientColor2History||i.gradientColor2History.length===0?(e.gradientColor2History=[e.gradientColor2],e.gradientColor2HistoryIndex=0):(e.gradientColor2HistoryIndex=Math.max(0,Math.min(i.gradientColor2HistoryIndex??0,i.gradientColor2History.length-1)),e.gradientColor2=i.gradientColor2History[e.gradientColor2HistoryIndex])}catch(i){return console.error("Failed to parse background settings from localStorage",i),{...$e,gradientColor1History:[...$e.gradientColor1History],gradientColor2History:[...$e.gradientColor2History]}}}return e}const In=kn(),xe=Gt(In);typeof localStorage<"u"&&xe.subscribe(e=>{localStorage.setItem("backgroundSettings",JSON.stringify(e))});function Ea(e,t,i){let s=[...t];i<s.length-1&&(s=s.slice(0,i+1)),s.push(e),s.length>qt&&(s=s.slice(s.length-qt));const n=s.length-1;return{history:s,index:n}}function Kt(e,t,i){let s;typeof e=="string"?s=e:s=`hsl(${Math.round(e)}, ${Math.round(t)}%, ${Math.round(i)}%)`;const n=Pe(xe);if(n.gradientColor1===s)return;const{history:o,index:r}=Ea(s,n.gradientColor1History,n.gradientColor1HistoryIndex);xe.update(l=>({...l,gradientColor1:s,gradientColor1History:o,gradientColor1HistoryIndex:r}))}function Ut(e,t,i){let s;typeof e=="string"?s=e:s=`hsl(${Math.round(e)}, ${Math.round(t)}%, ${Math.round(i)}%)`;const n=Pe(xe);if(n.gradientColor2===s)return;const{history:o,index:r}=Ea(s,n.gradientColor2History,n.gradientColor2HistoryIndex);xe.update(l=>({...l,gradientColor2:s,gradientColor2History:o,gradientColor2HistoryIndex:r}))}function Rn(){xe.set({...$e,gradientColor1History:[...$e.gradientColor1History],gradientColor2History:[...$e.gradientColor2History]})}const Cn={mouseMove:{maxRadius:50,speed:.35,lineWidth:1,initialOpacity:.35,color:"rgb(100, 180, 255)",decayRate:.005},click:{maxRadius:85,speed:.9,lineWidth:2.2,initialOpacity:.95,color:"rgb(190, 230, 255)",decayRate:.008},ambient:{maxRadius:30,speed:.2,lineWidth:1,initialOpacity:.15,color:"rgb(150, 200, 255)",decayRate:.008},longPress:{maxRadius:150,speed:.3,lineWidth:3.5,initialOpacity:.85,color:"rgb(70, 140, 220)",decayRate:.006},glintExpire:{maxRadius:40,speed:.9,lineWidth:1,initialOpacity:.6,color:"rgba(255, 255, 230, 0.7)",decayRate:.02}},En=2e3,Ta=128,Tn=16,Dn=.05,On=30,Gn=400,Pn=10,Zt=.0011,$n=.003,Da=3e3,Rt=2,Ln=15,zn="rgba(255, 255, 234, 0.95)",Oa=4,Bn=1e3,Jt=3,Qt=.15,Fn=.3,ea=.2,Nn=.5,ta=45,Xn=60,ht=.6,pt=.6,aa=1,Hn=2.25,Yn=600,na=.05,Wn=.25,ia=.5,qn=1.25,sa=.25,jn=.55,Vn=6e4,Kn=5e3,et=[{x1:0,y1:0,x2:1,y2:1},{x1:.5,y1:0,x2:.5,y2:1},{x1:1,y1:0,x2:0,y2:1},{x1:1,y1:.5,x2:0,y2:.5},{x1:1,y1:1,x2:0,y2:0},{x1:.5,y1:1,x2:.5,y2:0},{x1:0,y1:1,x2:1,y2:0},{x1:0,y1:.5,x2:1,y2:.5}],Ga=25e3,Un=.55,Zn="rgba(235, 245, 255, 0.7)",Jn="rgba(210, 230, 245, 0.5)",oa=.5,Qn=1.5,Ve=15,la=5,ei=12,ra=500,ti=1e3,ai=.2,dt=.02,Ct=.12,ca=.005,Et=.05,da=.02,ni=.3,Tt=Math.PI/4,ua=25,ii=100,si=.25,va=10,oi=Math.PI/3,li=2,ga=30,ri=70,ci=.25,Dt={plane:{minSpeed:.25,maxSpeed:.5,minSize:25,maxSize:45,baseOpacity:.4,minDuration:1e4,maxDuration:2e4,chancePerInterval:.01},whaleShadow:{minSpeed:.18,maxSpeed:.32,minSize:40,maxSize:70,baseOpacity:.5,minDuration:1200,maxDuration:2500,chancePerInterval:.09}};function di(e){const t=Math.max(0,Math.min(1,e));return t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2}const ut=15,vt=.04;function ui(e,t,i){const s=(e*vt+t*vt*.3+i*.8)*Math.PI*2,n=(e*vt*.7-t*vt+i*.5)*Math.PI*2,o=Math.sin(s)*ut*.6+Math.sin(n)*ut*.4,r=Math.cos(s)*ut*.4+Math.cos(n)*ut*.6;return{dx:o,dy:r}}let ha=0,pa=0,fa=0,vi=0,ma=0,ba=0,gi=0,ya=0;const ft=[],mt=[],bt=[],Pa=[],yt=[],_t=[],$a=[],St=[],La=[],za=[],Ba=[],Fa=[],Na=[],Xa=[],Ha=[],hi=()=>ft,xt=()=>mt,Ya=()=>bt,zt=()=>Pa,Bt=()=>yt,Ft=()=>_t,st=()=>$a,Mt=()=>St;function pi(e){let t=La.pop();t?(t.x=e.x,t.y=e.y,t.radius=e.radius,t.maxRadius=e.maxRadius,t.opacity=e.opacity,t.speed=e.speed,t.lineWidth=e.lineWidth,t.color=e.color,t.isAmbient=e.isAmbient,t.decayRate=e.decayRate,t.id=ha++):t={...e,id:ha++},ft.push(t)}function fi(e){let t=Xa.pop();t?(t.x=e.x,t.y=e.y,t.radius=e.radius,t.currentMaxRadius=e.currentMaxRadius,t.opacity=e.opacity,t.growthSpeed=e.growthSpeed,t.opacitySpeed=e.opacitySpeed,t.color=e.color,t.vx=e.vx,t.vy=e.vy,t.isWave=e.isWave,t.relativeXInSpawn=e.relativeXInSpawn,t.relativeYInSpawn=e.relativeYInSpawn,t.baseVx=e.baseVx,t.baseVy=e.baseVy,t.id=pa++):t={...e,id:pa++},mt.push(t)}function mi(e){let t=za.pop();t?(t.x=e.x,t.y=e.y,t.radius=e.radius,t.opacity=e.opacity,t.decay=e.decay,t.color=e.color,t.id=fa++):t={...e,id:fa++},bt.push(t)}const bi=e=>{Pa.push({...e,id:vi++})};function yi(e){let t=Ba.pop();t?(t.x=e.x,t.y=e.y,t.radius=e.radius,t.opacity=e.opacity,t.decay=e.decay,t.color=e.color,t.id=ma++):t={...e,id:ma++},yt.push(t)}function _i(e){let t=Fa.pop();t?(t.type=e.type,t.x=e.x,t.y=e.y,t.vx=e.vx,t.vy=e.vy,t.size=e.size,t.opacity=e.opacity,t.age=0,t.maxAge=e.maxAge,e.type==="whaleShadow"?(t.bodyAngle=e.bodyAngle??0,t.bodyAngleSpeed=e.bodyAngleSpeed,t.bodyAngleAmplitude=e.bodyAngleAmplitude,t.tailAngleOffset=e.tailAngleOffset??0,t.tailOscillationSpeed=e.tailOscillationSpeed,t.tailOscillationAmplitude=e.tailOscillationAmplitude):(delete t.bodyAngle,delete t.bodyAngleSpeed,delete t.bodyAngleAmplitude,delete t.tailAngleOffset,delete t.tailOscillationSpeed,delete t.tailOscillationAmplitude),t.id=ba++):t={...e,age:0,id:ba++},_t.push(t)}const Si=e=>{$a.push({...e,id:gi++})};function Mi(e){let t=Na.pop();t?(t.anchorX=e.anchorX,t.anchorY=e.anchorY,t.particles=[],t.vx=e.vx,t.vy=e.vy,t.opacity=0,t.age=0,t.maxAge=e.maxAge,t.color=e.color,t.id=ya++):t={...e,particles:[],opacity:0,age:0,id:ya++},St.push(t)}function xi(e,t){let i=Ha.pop();i?(i.x=t.x,i.y=t.y,i.size=t.size,i.opacity=0,i.initialRelativeX=t.initialRelativeX,i.initialRelativeY=t.initialRelativeY,i.appearAtAge=t.appearAtAge,i.maxOpacity=t.maxOpacity,i.particleAge=0,i.particleMaxAge=t.particleMaxAge):i={...t,opacity:0,particleAge:0},e.particles.push(i)}function wi(e){const t=ft.findIndex(i=>i.id===e.id);if(t!==-1){const i=ft.splice(t,1)[0];i&&La.push(i)}else console.warn(`Attempted to release ripple with ID ${e.id} not found in active list.`)}function Ai(){if(mt.length>0){const e=mt.shift();if(e)return Xa.push(e),e}return null}function ki(e){const t=bt.findIndex(i=>i.id===e.id);if(t!==-1){const i=bt.splice(t,1)[0];i&&za.push(i)}else console.warn(`Attempted to release glint with ID ${e.id} not found in active list.`)}function Ii(e){const t=yt.findIndex(i=>i.id===e.id);if(t!==-1){const i=yt.splice(t,1)[0];i&&Ba.push(i)}else console.warn(`Attempted to release sunGlint with ID ${e.id} not found in active list.`)}function Ri(e){const t=_t.findIndex(i=>i.id===e.id);if(t!==-1){const i=_t.splice(t,1)[0];i&&Fa.push(i)}else console.warn(`Attempted to release rareSighting with ID ${e.id} not found in active list.`)}function Wa(e){Ha.push(e)}function Ot(e){const t=St.findIndex(i=>i.id===e.id);if(t!==-1){const i=St.splice(t,1)[0];if(i){for(const s of i.particles)Wa(s);i.particles=[],Na.push(i)}}else console.warn(`Attempted to release foamStreak with ID ${e.id} not found in active list.`)}function it(e,t,i){const s=Cn[i];if(!s)throw console.error(`Unknown ripple type: ${i}. Ensure it is defined in RIPPLE_CONFIG.`),new Error(`Unknown ripple type: ${i}`);let n=s.speed,o=s.maxRadius;(i==="mouseMove"||i==="click")&&(n=s.speed*(.9+Math.random()*.2),o=s.maxRadius*(.9+Math.random()*.2)),pi({x:e,y:t,radius:0,maxRadius:o,opacity:s.initialOpacity,speed:n,lineWidth:s.lineWidth,color:s.color,isAmbient:i==="ambient",decayRate:s.decayRate})}function Ci(e){const t=e.globalAlpha,i=hi();for(let s=i.length-1;s>=0;s--){const n=i[s];if(n.radius+=n.speed,n.opacity-=n.decayRate,n.opacity<=0||n.radius>=n.maxRadius){wi(n);continue}e.beginPath(),e.arc(n.x,n.y,n.radius,0,Math.PI*2),e.lineWidth=n.lineWidth,e.strokeStyle=n.color,e.globalAlpha=Math.max(0,n.opacity),e.stroke()}e.globalAlpha=t}function _a(e,t,i){xt().length>=Ta&&Ai();let s,n,o,r,l,h,f,p=1;const y=e*(1-ht)/2,M=e*ht,g=t*(1-pt)/2,c=t*pt,w=y+Math.random()*M,A=g+Math.random()*c;i?(s=Math.min(e,t)/2*(.8+Math.random()*.4),p=ea+Math.random()*(Nn-ea),n=(Math.random()-.5)*.2*p,o=(Math.random()-.5)*.2*p,r=Qt+Math.random()*(Fn-Qt),l=(Math.random()*.015+.005)*(Math.random()<.5?1:-1)*p,h=(Math.random()*15e-5+5e-5)*(Math.random()<.5?1:-1)*p,f=`hsl(210, ${68+Math.random()*10}%, ${ta+Math.random()*(Xn-ta)}%)`):(s=Math.random()*80+40,n=(Math.random()-.5)*.12,o=(Math.random()-.5)*.12,r=Math.random()*.03+.01,l=(Math.random()*.02+.01)*(Math.random()<.5?1:-1),h=(Math.random()*2e-4+1e-4)*(Math.random()<.5?1:-1),f=`hsl(${200+Math.random()*20}, ${65+Math.random()*20}%, ${35+Math.random()*30}%)`),fi({x:w,y:A,radius:Math.random()*s*.3+s*.2,currentMaxRadius:s,opacity:r,growthSpeed:l,opacitySpeed:h,color:f,vx:n,vy:o,isWave:i,relativeXInSpawn:M>0?(w-y)/M:.5,relativeYInSpawn:c>0?(A-g)/c:.5,baseVx:n,baseVy:o})}function Ei(e,t,i,s){const n=xt();if(n.length===0)return;const o=e.globalCompositeOperation;e.globalCompositeOperation="screen";for(let r=n.length-1;r>=0;r--){const l=n[r];l.x+=l.vx,l.y+=l.vy,l.radius+=l.growthSpeed,l.opacity+=l.opacitySpeed,(l.opacity>.06||l.opacity<.005)&&(l.opacitySpeed*=-1,l.opacity=Math.max(.005,Math.min(.06,l.opacity))),(l.radius>l.currentMaxRadius||l.radius<l.currentMaxRadius*.2)&&(l.growthSpeed*=-1,l.radius=Math.max(10,Math.min(l.currentMaxRadius,l.radius))),(l.x-l.radius<0||l.x+l.radius>t)&&(l.vx*=-1,l.x=Math.max(l.radius,Math.min(t-l.radius,l.x))),(l.y-l.radius<0||l.y+l.radius>i)&&(l.vy*=-1,l.y=Math.max(l.radius,Math.min(i-l.radius,l.y)));const h=ui(l.x,l.y,s),f=l.x+h.dx,p=l.y+h.dy,y=e.createRadialGradient(f,p,0,f,p,l.radius),M=l.color.substring(0,l.color.lastIndexOf(")"));y.addColorStop(0,`${M}, ${l.opacity})`),y.addColorStop(.7,`${M}, ${l.opacity*.5})`),y.addColorStop(1,`${M}, 0)`),e.fillStyle=y,e.beginPath(),e.arc(f,p,l.radius,0,Math.PI*2),e.fill()}e.globalCompositeOperation=o}function Ti(e,t){const i=xt();if(i.length===0)return;const s=e*(1-ht)/2,n=e*ht,o=t*(1-pt)/2,r=t*pt,l=s+n/2,h=o+r/2,f=Math.sqrt(Math.pow(n/2,2)+Math.pow(r/2,2))+.001;for(const p of i){const y=p.relativeXInSpawn!==void 0?p.relativeXInSpawn:Math.random(),M=p.relativeYInSpawn!==void 0?p.relativeYInSpawn:Math.random();if(p.x=s+y*n,p.y=o+M*r,p.baseVx!==void 0&&p.baseVy!==void 0){const g=Math.sqrt(Math.pow(p.x-l,2)+Math.pow(p.y-h,2)),c=Math.min(1,g/f),w=aa+c*(Hn-aa);p.vx=p.baseVx*w,p.vy=p.baseVy*w}if(p.isWave){const g=Math.min(e,t)/2*(.8+Math.random()*.4);p.currentMaxRadius=g,p.radius=Math.random()*g*.3+g*.2}}}const Sa=[[0,0],[0,1],[0,2],[1,0],[1,1],[1,1],[1,1],[1,1],[1,1],[1,1],[1,2],[2,0],[2,1],[2,2]];function qa(e,t){const i=Sa[Math.floor(Math.random()*Sa.length)],s=i[0],n=i[1],o=e/3,r=t/3,l=n*o+Math.random()*o,h=s*r+Math.random()*r;return{x:l,y:h}}function Di(e,t,i){if(Bt().length>=Da)return;const s=Math.random()*Math.PI*2,n=Math.random()*i*.5;yi({x:e+Math.cos(s)*n,y:t+Math.sin(s)*n,radius:Math.random()*.6+.4,opacity:Math.random()*.3+.7,decay:Math.random()*.008+.002,color:zn})}function Oi(e,t){const i=Math.min(e,t),{x:s,y:n}=qa(e,t);bi({x:s,y:n,baseRadius:i*.45,radiusAmplitude:i*.12,currentRadius:i*.45,baseOpacity:.35,opacityAmplitude:.3,currentOpacity:.35,pulseAngle:Math.random()*Math.PI*2,pulseSpeed:Zt+Math.random()*($n-Zt),vx:0,vy:0,relativeX:s/e,relativeY:n/t})}function Gi(e){const t=Bt();if(t.length===0)return;const i=e.globalAlpha;for(let s=t.length-1;s>=0;s--){const n=t[s];n.x+=(Math.random()-.5)*.5,n.y+=(Math.random()-.5)*.5,n.opacity-=n.decay,n.radius+=.005,n.opacity<=0?Ii(n):(e.beginPath(),e.arc(n.x,n.y,n.radius,0,Math.PI*2),e.fillStyle=n.color,e.globalAlpha=Math.max(0,n.opacity),e.fill())}e.globalAlpha=i}function Pi(e){const t=zt();if(t.length===0)return;const i=e.globalCompositeOperation;e.globalCompositeOperation="lighter";const s=e.globalAlpha;for(let n=0;n<t.length;n++){const o=t[n];o.pulseAngle+=o.pulseSpeed,o.currentRadius=o.baseRadius+Math.sin(o.pulseAngle)*o.radiusAmplitude,o.currentOpacity=o.baseOpacity+(Math.sin(o.pulseAngle*.7+Math.PI/3)*.5+.5)*o.opacityAmplitude,o.currentOpacity=Math.max(0,Math.min(1,o.currentOpacity));const r=o.baseOpacity+o.opacityAmplitude,l=r>0?Math.max(0,o.currentOpacity/r):0,h=r>0?o.baseOpacity/r:0;let f=0;if(l>0)if(l<=h){const y=h>0?l/h:0;f=Math.round(y*Rt)}else{const y=1-h,M=y>0?(l-h)/y:1;f=Math.round(Rt+M*(Ln-Rt))}f=Math.max(0,f);for(let y=0;y<f&&(Di(o.x,o.y,o.currentRadius),!(Bt().length>=Da));y++);const p=e.createRadialGradient(o.x,o.y,0,o.x,o.y,o.currentRadius);p.addColorStop(0,`rgba(255, 250, 220, ${o.currentOpacity})`),p.addColorStop(.25,`rgba(255, 235, 180, ${o.currentOpacity*.8})`),p.addColorStop(.6,`rgba(255, 220, 150, ${o.currentOpacity*.4})`),p.addColorStop(1,"rgba(255, 210, 130, 0)"),e.fillStyle=p,e.globalAlpha=1,e.beginPath(),e.arc(o.x,o.y,o.currentRadius,0,Math.PI*2),e.fill()}e.globalCompositeOperation=i,e.globalAlpha=s}function $i(e,t){const i=zt();if(i.length===0)return;const s=Math.min(e,t);for(const n of i){if(n.relativeX!==void 0&&n.relativeY!==void 0)n.x=n.relativeX*e,n.y=n.relativeY*t;else{console.warn("SunGlow missing relative coordinates during resize. Recalculating position.");const{x:o,y:r}=qa(e,t);n.x=o,n.y=r,n.relativeX=o/e,n.relativeY=r/t}n.baseRadius=s*.45,n.radiusAmplitude=s*.12}}function Li(e,t){Ya().length>=Tn||mi({x:Math.random()*e,y:Math.random()*t,radius:Math.random()*.25+.2,opacity:Math.random()*.4+.2,decay:Math.random()*.005+.005,color:"rgba(255, 255, 230, 0.85)"})}function zi(e){const t=Ya();if(t.length===0)return[];const i=[],s=e.globalAlpha;for(let n=t.length-1;n>=0;n--){const o=t[n];o.opacity-=o.decay,o.opacity<=0?(i.push({x:o.x,y:o.y}),ki(o)):(e.beginPath(),e.arc(o.x,o.y,o.radius,0,Math.PI*2),e.fillStyle=o.color,e.globalAlpha=Math.max(0,o.opacity),e.fill())}return e.globalAlpha=s,i}function Bi(e,t){e.fillRect(t.x-t.size/2,t.y-t.size/8,t.size,t.size/4),e.fillRect(t.x-t.size/6,t.y-t.size/3,t.size/3,t.size*.8)}function Fi(e,t){t.bodyAngleSpeed&&t.bodyAngleAmplitude&&(t.bodyAngle=Math.sin(t.age*t.bodyAngleSpeed)*t.bodyAngleAmplitude),t.tailOscillationSpeed&&t.tailOscillationAmplitude&&(t.tailAngleOffset=Math.sin(t.age*t.tailOscillationSpeed)*t.tailOscillationAmplitude);const n=t.size*(1+Math.sin(t.age*.02)*.05),o=n/3.5,r=o*.9,l=n*.3;e.save(),e.translate(t.x,t.y),e.rotate(t.bodyAngle||0),e.beginPath(),e.ellipse(0,0,n/2,o/2,0,0,Math.PI*2),e.fill();const h=-n/2*.85,f=0;e.save(),e.translate(h,f),e.rotate(t.tailAngleOffset||0),e.beginPath(),e.ellipse(0,0,l/2,r/2,0,0,Math.PI*2),e.fill(),e.restore(),e.restore()}function Ni(e,t,i){if(Ft().length>=Oa)return;const s=i,n=Dt[s];if(!n){console.warn(`Configuration not found for rare sighting type: ${s}`);return}let o,r,l,h;const f=n.minSpeed+Math.random()*(n.maxSpeed-n.minSpeed);switch(s){case"plane":o=Math.random()<.5?-n.maxSize:e+n.maxSize,r=Math.random()*t*.3,l=(o<0?1:-1)*f,h=(Math.random()-.5)*f*.3;break;case"whaleShadow":o=Math.random()<.5?-n.maxSize*1.5:e+n.maxSize*1.5,r=t*(.5+Math.random()*.4),l=(o<0?1:-1)*f,h=(Math.random()-.5)*f*.1;break;default:console.warn(`Unhandled rare sighting type for creation: ${s}`);return}const p={type:s,x:o,y:r,vx:l,vy:h,size:n.minSize+Math.random()*(n.maxSize-n.minSize),opacity:n.baseOpacity,age:0,maxAge:n.minDuration+Math.random()*(n.maxDuration-n.minDuration),...s==="whaleShadow"?{bodyAngle:0,bodyAngleSpeed:(Math.random()*.003+.002)*(Math.random()<.5?1:-1),bodyAngleAmplitude:Math.PI/36,tailAngleOffset:0,tailOscillationSpeed:Math.random()*.04+.03,tailOscillationAmplitude:Math.PI/10}:{}};_i(p)}function Xi(e,t,i){const s=Ft();if(s.length===0)return;const n=e.globalAlpha;for(let o=s.length-1;o>=0;o--){const r=s[o];r.age++,r.x+=r.vx,r.y+=r.vy;const l=r.size*2,h=r.age>r.maxAge,f=r.x<-l||r.x>t+l||r.y<-l||r.y>i+l;if(h||f){Ri(r);continue}let p=r.opacity;const y=.8;if(r.age/r.maxAge>y){const M=(r.age/r.maxAge-y)/(1-y);p=r.opacity*(1-M)}switch(p=Math.max(0,p),e.globalAlpha=p,e.fillStyle=`rgba(10, 10, 20, ${p*.7})`,r.type){case"plane":Bi(e,r);break;case"whaleShadow":Fi(e,r);break;default:console.warn(`No drawing function implemented for rare sighting type: ${r.type}`)}}e.globalAlpha=n}function Hi(e,t){if(st().length>0){console.warn("Attempted to re-initialize water grains. Skipping.");return}for(let i=0;i<Yn;i++){const s=na+Math.random()*(Wn-na),n=Math.random()*Math.PI*2,o=20+Math.random()*10,r=Math.random()*e,l=Math.random()*t;Si({x:r,y:l,vx:Math.cos(n)*s,vy:Math.sin(n)*s,size:ia+Math.random()*(qn-ia),opacity:sa+Math.random()*(jn-sa),color:`hsl(210, ${65+Math.random()*10}%, ${o}%)`,relativeX:e>0?r/e:.5,relativeY:t>0?l/t:.5})}console.log(`Initialized ${st().length} water grains.`)}function Yi(e,t,i){const s=st();if(s.length===0)return;const n=e.globalAlpha;for(const o of s)o.x+=o.vx,o.y+=o.vy,o.x<-o.size?o.x=t+o.size:o.x>t+o.size&&(o.x=-o.size),o.y<-o.size?o.y=i+o.size:o.y>i+o.size&&(o.y=-o.size),e.beginPath(),e.arc(o.x,o.y,o.size,0,Math.PI*2),e.fillStyle=o.color,e.globalAlpha=Math.max(0,o.opacity*n),e.fill();e.globalAlpha=n}function Wi(e,t){const i=st();if(i.length!==0)for(const s of i)s.relativeX!==void 0&&s.relativeY!==void 0?(s.x=s.relativeX*e,s.y=s.relativeY*t):(console.warn("WaterGrain missing relative coordinates during resize. Re-randomizing position."),s.x=Math.random()*e,s.y=Math.random()*t,s.relativeX=e>0?s.x/e:.5,s.relativeY=t>0?s.y/t:.5)}function qi(e,t){if(Mt().length>=Ga)return;const i=Math.floor(Math.random()*3);let s,n,o,r,l;i===0?(s=Math.random()*e,n=-Ve,o=(Math.random()-.5)*Ct*.5,r=ca+Math.random()*(Et-ca),l=Math.PI/2+(Math.random()-.5)*(Math.PI/6)):i===1?(s=-Ve,n=Math.random()*t,o=dt+Math.random()*(Ct-dt),r=(Math.random()-.5)*Et*.4,l=(Math.random()-.5)*(Math.PI/4)):(s=e+Ve,n=Math.random()*t,o=-(dt+Math.random()*(Ct-dt)),r=(Math.random()-.5)*Et*.4,l=Math.PI+(Math.random()-.5)*(Math.PI/4));let h=0;const f=(g,c,w,A,C,_)=>{let j=c,O=w,I=A;for(let B=0;B<C;B++){const D=la+Math.random()*(ei-la);if(I+=(Math.random()-.5)*2*Tt,_){const P=(I-A+Math.PI*3)%(Math.PI*2)-Math.PI;Math.abs(P)>Tt*1.5&&(I=A+Math.sign(P)*Tt*1.5)}else i===0?I=Math.max(Math.PI/4,Math.min(3*Math.PI/4,I)):i===1?I=Math.max(-Math.PI/3,Math.min(Math.PI/3,I)):I=Math.max(2*Math.PI/3,Math.min(4*Math.PI/3,I));const G=j+Math.cos(I)*D,F=O+Math.sin(I)*D;for(let P=0;P<li;P++){const X=oa+Math.random()*(Qn-oa),ne=I+Math.PI/2,b=(Math.random()-.5)*Ve*.8,$=j+Math.cos(ne)*b,L=O+Math.sin(ne)*b;xi(g,{x:$,y:L,initialRelativeX:$,initialRelativeY:L,size:X,opacity:0,appearAtAge:h++*ni,maxOpacity:.5+Math.random()*.4,particleAge:0,particleMaxAge:ga+Math.random()*(ri-ga)})}if(j=G,O=F,!_&&Math.random()<si&&B<C-va/2&&B>2){const P=(Math.random()<.5?-1:1)*oi*(.7+Math.random()*.6),X=Math.floor(va*(.5+Math.random()*.5));f(g,j,O,I+P,X,!0)}}},p=ua+Math.floor(Math.random()*(ii-ua+1)),y={anchorX:s,anchorY:n,particles:[],vx:o,vy:r,opacity:0,age:0,maxAge:ra+Math.random()*(ti-ra),color:Math.random()<.6?Zn:Jn};Mi(y);const M=Mt().find(g=>g.anchorX===s&&g.anchorY===n&&g.age===0);if(M){if(f(M,0,0,l,p,!1),M.particles.length<5){Ot(M);return}}else console.warn("Could not find newly added streak to generate particles into.")}function ji(e,t,i){const s=Mt();if(s.length===0)return;const n=e.globalAlpha,o=e.globalCompositeOperation;e.globalCompositeOperation="lighter";for(let r=s.length-1;r>=0;r--){const l=s[r];l.age++,l.anchorX+=l.vx,l.anchorY+=l.vy;const h=l.maxAge*ai;if(l.age<h?l.opacity=l.age/h:l.age>l.maxAge-h?l.opacity=1-(l.age-(l.maxAge-h))/h:l.opacity=1,l.opacity=Math.max(0,Math.min(1,l.opacity)),l.opacity<=0&&l.age>h){Ot(l);continue}let f=!0;const p=Ve*5,y=Ve*5;if(l.anchorX>-p&&l.anchorX<t+p&&l.anchorY>-y&&l.anchorY<i+y)f=!1;else{f=!0;for(const M of l.particles){const g=l.anchorX+M.x,c=l.anchorY+M.y;if(g>-M.size&&g<t+M.size&&c>-M.size&&c<i+M.size){f=!1;break}}}if(f&&l.age>h*2){Ot(l);continue}e.fillStyle=l.color;for(let M=l.particles.length-1;M>=0;M--){const g=l.particles[M];if(l.age<g.appearAtAge)continue;if(g.particleAge++,g.particleAge>g.particleMaxAge){g.opacity=0,Wa(g),l.particles.splice(M,1);continue}else{const I=g.particleMaxAge*ci;g.particleAge<I?g.opacity=g.particleAge/I*g.maxOpacity:g.particleAge>g.particleMaxAge-I?g.opacity=(1-(g.particleAge-(g.particleMaxAge-I))/I)*g.maxOpacity:g.opacity=g.maxOpacity,g.opacity=Math.max(0,Math.min(g.maxOpacity,g.opacity))}if(g.opacity<=.001)continue;g.x+=(Math.random()-.5)*da,g.y+=(Math.random()-.5)*da;const c=g.x-g.initialRelativeX,w=g.y-g.initialRelativeY,A=c*c+w*w,C=Ve*.5;if(A>C*C){const I=Math.sqrt(A);g.x=g.initialRelativeX+c/I*C,g.y=g.initialRelativeY+w/I*C}const _=l.anchorX+g.x,j=l.anchorY+g.y,O=l.opacity*g.opacity;O<=.001||(e.globalAlpha=O*n,e.beginPath(),e.arc(_,j,g.size,0,Math.PI*2),e.fill())}}e.globalCompositeOperation=o,e.globalAlpha=n}var Vi=ce('<canvas class="pointer-events-none fixed top-0 left-0 -z-10 h-full w-full svelte-1mnusik"></canvas>');function Ki(e,t){Ne(t,!1);let i=Nt(t,"gradientColor1",8,"hsl(210, 70%, 50%)"),s=Nt(t,"gradientColor2",8,"hsl(200, 68%, 50%)"),n=T(),o,r=0,l=0,h=0,f=1,p=0,y={...et[0]},M=0;Pt(()=>{const c=a(n);if(!c){console.error("Canvas not available onMount");return}const w=c.getContext("2d");if(!w){console.error("Context not available onMount");return}X(),console.log(`[onMount after initial resize] Canvas: ${c.width}x${c.height}`);let A=0,C=0,_=null,j,O=!1,I=0;function B(){const b=Date.now();if(p===0&&(p=b,M=b,h=(l+1)%et.length,f=0),b-p>=Vn&&f>=1&&(l=h,h=(l+1)%et.length,f=0,p=b,M=b),f<1){const $=b-M;f=Math.min(1,$/Kn);const L=di(f),Y=et[l],K=et[h];y.x1=Y.x1+(K.x1-Y.x1)*L,y.y1=Y.y1+(K.y1-Y.y1)*L,y.x2=Y.x2+(K.x2-Y.x2)*L,y.y2=Y.y2+(K.y2-Y.y2)*L}else y={...et[h]},l=h}const D=b=>{if(_){if(!O){const L=b.pageX-_.x,Y=b.pageY-_.y;Math.sqrt(L*L+Y*Y)>Pn&&(O=!0)}const $=Date.now();$-A>On&&(it(b.pageX,b.pageY,"mouseMove"),A=$)}},G=b=>{C=Date.now(),_={x:b.pageX,y:b.pageY},O=!1},F=b=>{if(!_||C===0)return;const $=Date.now()-C;O||($>=Gn?it(b.pageX,b.pageY,"longPress"):it(b.pageX,b.pageY,"mouseMove")),_=null,C=0,O=!1},P=()=>{c&&it(Math.random()*c.width,Math.random()*c.height,"ambient")};function X(){c&&(c.width=window.innerWidth,c.height=window.innerHeight,console.log(`[resizeCanvas] Canvas: ${c.width}x${c.height}`),Ti(c.width,c.height),$i(c.width,c.height),Wi(c.width,c.height))}if(window.addEventListener("resize",X),window.addEventListener("mousemove",D),window.addEventListener("mousedown",G),window.addEventListener("mouseup",F),typeof window<"u"&&(j=window.setInterval(P,En)),c){for(let b=0;b<Ta-Jt;b++)_a(c.width,c.height,!1);for(let b=0;b<Jt;b++)_a(c.width,c.height,!0);Oi(c.width,c.height),Hi(c.width,c.height)}console.log(`[onMount End] Canvas: ${c.width}x${c.height}, ShimmerSpots: ${xt().length}, Grains: ${st().length}, SunGlows: ${zt().length}`);function ne(){if(!w||!c){o=requestAnimationFrame(ne);return}r+=.002,B();const b=y.x1*c.width,$=y.y1*c.height,L=y.x2*c.width,Y=y.y2*c.height,K=w.createLinearGradient(b,$,L,Y),H=typeof i()=="string"&&i().includes("hsl")?i():"hsl(210, 70%, 50%)",ie=typeof s()=="string"&&s().includes("hsl")?s():"hsl(200, 68%, 50%)";if(K.addColorStop(0,H),K.addColorStop(1,ie),w.fillStyle=K,w.fillRect(0,0,c.width,c.height),Ci(w),Ei(w,c.width,c.height,r),Yi(w,c.width,c.height),Pi(w),Gi(w),I+=16.67,I>=Bn){for(const de in Dt){const U=de,ue=Dt[U];typeof ue.chancePerInterval=="number"&&Math.random()<ue.chancePerInterval&&Ft().length<Oa&&Ni(c.width,c.height,U)}I=0}Xi(w,c.width,c.height),Math.random()<Dn&&Li(c.width,c.height),zi(w).forEach(de=>it(de.x,de.y,"glintExpire")),Math.random()<Un&&Mt().length<Ga&&qi(c.width,c.height),ji(w,c.width,c.height),o=requestAnimationFrame(ne)}return ne(),()=>{window.removeEventListener("resize",X),window.removeEventListener("mousemove",D),window.removeEventListener("mousedown",G),window.removeEventListener("mouseup",F),j&&clearInterval(j),o&&cancelAnimationFrame(o)}}),Fe();var g=Vi();Le(g,c=>m(n,c),()=>a(n)),re(e,g),Xe()}var Ui=ce('<div class="professional-hsl-picker svelte-1bvbq9v"><div class="picker-header svelte-1bvbq9v"><div class="control-buttons svelte-1bvbq9v"><button title="Sync both gradients">ð</button> <button title="Lock current selection">ð</button> <button class="control-btn reset-btn svelte-1bvbq9v" title="Reset to defaults">âº</button></div></div> <div class="slider-section svelte-1bvbq9v"><div class="slider-label svelte-1bvbq9v">Hue (0Â° - 360Â°)</div> <div class="slider-container svelte-1bvbq9v"><canvas class="color-slider svelte-1bvbq9v"></canvas></div></div> <div class="slider-section svelte-1bvbq9v"><div class="slider-label svelte-1bvbq9v">Saturation (0% - 100%)</div> <div class="slider-container svelte-1bvbq9v"><canvas class="color-slider svelte-1bvbq9v"></canvas></div></div> <div class="slider-section svelte-1bvbq9v"><div class="slider-label svelte-1bvbq9v">Lightness (0% - 100%)</div> <div class="slider-container svelte-1bvbq9v"><canvas class="color-slider svelte-1bvbq9v"></canvas></div></div> <div class="color-preview svelte-1bvbq9v"><div class="preview-item svelte-1bvbq9v"><div class="preview-swatch svelte-1bvbq9v"></div> <span class="preview-label svelte-1bvbq9v"> </span></div> <div class="preview-item svelte-1bvbq9v"><div class="preview-swatch svelte-1bvbq9v"></div> <span class="preview-label svelte-1bvbq9v"> </span></div></div> <div class="instructions svelte-1bvbq9v"><p>Click: Set Gradient 1 â¢ Drag indicators to move</p></div></div>');function Zi(e,t){Ne(t,!1);const i=T(),s=T();let n=T(),o=T(),r=T(),l,h=T(null),f=T(null),p=T(null),y=T(!1),M=T(!1),g=!1,c=null,w=null;const A=320,C=40,_=16;let j=0,O={x:0,targetX:0,scale:1,opacity:.9},I={x:0,targetX:0,scale:1,opacity:.9},B={x:0,targetX:0,scale:1,opacity:.9},D={x:0,targetX:0,scale:1,opacity:.9},G={x:0,targetX:0,scale:1,opacity:.9},F={x:0,targetX:0,scale:1,opacity:.9},P;function X(){O.targetX=_+a(i).h/360*(A-2*_),I.targetX=_+a(s).h/360*(A-2*_),O.x=O.targetX,I.x=I.targetX,B.targetX=_+a(i).s/100*(A-2*_),D.targetX=_+a(s).s/100*(A-2*_),B.x=B.targetX,D.x=D.targetX,G.targetX=_+a(i).l/100*(A-2*_),F.targetX=_+a(s).l/100*(A-2*_),G.x=G.targetX,F.x=F.targetX}function ne(S,x){const R=Math.max(0,Math.min(1,(S-_)/(A-2*_)));switch(x){case"hue":return R*360;case"saturation":return R*100;case"lightness":return R*100}}function b(){if(!a(h)||!a(f)||!a(p)){l=requestAnimationFrame(b);return}j+=.016,g||(O.x+=(O.targetX-O.x)*.15,I.x+=(I.targetX-I.x)*.15,B.x+=(B.targetX-B.x)*.15,D.x+=(D.targetX-D.x)*.15,G.x+=(G.targetX-G.x)*.15,F.x+=(F.targetX-F.x)*.15),[O,I,B,D,G,F].forEach((x,R)=>{const Z=R%2+1;c===Z&&(w==="hue"&&R<2||w==="saturation"&&R>=2&&R<4||w==="lightness"&&R>=4)?(x.scale=1+.2*Math.sin(j*8),x.opacity=.95):(x.scale+=(1-x.scale)*.1,x.opacity+=(.9-x.opacity)*.1)}),$(),l=requestAnimationFrame(b)}function $(){L(),Y(),K()}function L(){if(!a(h))return;a(h).clearRect(0,0,A,C);const S=a(h).createLinearGradient(_,0,A-_,0);for(let x=0;x<=12;x++){const R=x/12*360;S.addColorStop(x/12,`hsl(${R}, 70%, 50%)`)}fe(h,a(h).fillStyle=S),ie(a(h),_,8,A-2*_,C-16,8),a(h).fill(),fe(h,a(h).strokeStyle="rgba(255, 255, 255, 0.2)"),fe(h,a(h).lineWidth=1),ie(a(h),_,8,A-2*_,C-16,8),a(h).stroke(),H(a(h),O,"#3B82F6","1"),H(a(h),I,"#EC4899","2")}function Y(){if(!a(f))return;a(f).clearRect(0,0,A,C);const S=(a(i).h+a(s).h)/2,x=a(f).createLinearGradient(_,0,A-_,0);x.addColorStop(0,`hsl(${S}, 0%, 50%)`),x.addColorStop(1,`hsl(${S}, 100%, 50%)`),fe(f,a(f).fillStyle=x),ie(a(f),_,8,A-2*_,C-16,8),a(f).fill(),fe(f,a(f).strokeStyle="rgba(255, 255, 255, 0.2)"),fe(f,a(f).lineWidth=1),ie(a(f),_,8,A-2*_,C-16,8),a(f).stroke(),H(a(f),B,"#3B82F6","1"),H(a(f),D,"#EC4899","2")}function K(){if(!a(p))return;a(p).clearRect(0,0,A,C);const S=(a(i).h+a(s).h)/2,x=(a(i).s+a(s).s)/2,R=a(p).createLinearGradient(_,0,A-_,0);R.addColorStop(0,`hsl(${S}, ${x}%, 0%)`),R.addColorStop(.25,`hsl(${S}, ${x}%, 25%)`),R.addColorStop(.5,`hsl(${S}, ${x}%, 50%)`),R.addColorStop(.75,`hsl(${S}, ${x}%, 75%)`),R.addColorStop(1,`hsl(${S}, ${x}%, 100%)`),fe(p,a(p).fillStyle=R),ie(a(p),_,8,A-2*_,C-16,8),a(p).fill(),fe(p,a(p).strokeStyle="rgba(255, 255, 255, 0.2)"),fe(p,a(p).lineWidth=1),ie(a(p),_,8,A-2*_,C-16,8),a(p).stroke(),H(a(p),G,"#3B82F6","1"),H(a(p),F,"#EC4899","2")}function H(S,x,R,Z){const J=x.x,ae=C/2,le=x.scale,qe=x.opacity;S.save(),S.globalAlpha=qe;const at=S.createRadialGradient(J,ae,0,J,ae,20*le);at.addColorStop(0,R+"40"),at.addColorStop(1,R+"00"),S.fillStyle=at,S.fillRect(J-20*le,ae-20*le,40*le,40*le),S.beginPath(),S.arc(J,ae,10*le,0,Math.PI*2),S.fillStyle=R,S.fill(),S.strokeStyle="rgba(255, 255, 255, 0.9)",S.lineWidth=2,S.stroke(),S.beginPath(),S.arc(J,ae,6*le,0,Math.PI*2),S.fillStyle="rgba(255, 255, 255, 0.3)",S.fill(),S.fillStyle="white",S.font=`bold ${8*le}px system-ui`,S.textAlign="center",S.textBaseline="middle",S.fillText(Z,J,ae),S.restore()}function ie(S,x,R,Z,J,ae){S.beginPath(),S.moveTo(x+ae,R),S.lineTo(x+Z-ae,R),S.quadraticCurveTo(x+Z,R,x+Z,R+ae),S.lineTo(x+Z,R+J-ae),S.quadraticCurveTo(x+Z,R+J,x+Z-ae,R+J),S.lineTo(x+ae,R+J),S.quadraticCurveTo(x,R+J,x,R+J-ae),S.lineTo(x,R+ae),S.quadraticCurveTo(x,R,x+ae,R),S.closePath()}function se(S,x){let R,Z,J;switch(x){case"hue":R=a(n),Z=O,J=I;break;case"saturation":R=a(o),Z=B,J=D;break;case"lightness":R=a(r),Z=G,J=F;break;default:return}if(!R)return;const ae=R.getBoundingClientRect(),le=S.clientX-ae.left,qe=Math.abs(le-Z.x),at=Math.abs(le-J.x);if(qe<20)g=!0,c=1,w=x,S.preventDefault();else if(at<20)g=!0,c=2,w=x,S.preventDefault();else{const ja=ne(le,x);U(x,ja,1)}}function ee(S){if(!g||!w||!c)return;let x,R,Z;switch(w){case"hue":x=a(n),R=O,Z=I;break;case"saturation":x=a(o),R=B,Z=D;break;case"lightness":x=a(r),R=G,Z=F;break;default:return}if(!x)return;const J=x.getBoundingClientRect(),ae=S.clientX-J.left,le=Math.max(_,Math.min(A-_,ae));c===1?(R.targetX=le,R.x=le):(Z.targetX=le,Z.x=le);const qe=ne(le,w);U(w,qe,c)}function de(){g=!1,c=null,w=null}function U(S,x,R){const Z=R===1?a(i):a(s);if(!Z)return;let J=Z.h,ae=Z.s,le=Z.l;switch(S){case"hue":J=x;break;case"saturation":ae=x;break;case"lightness":le=x;break}R===1?(Kt(J,ae,le),m(i,{h:J,s:ae,l:le})):(Ut(J,ae,le),m(s,{h:J,s:ae,l:le}))}function ue(){m(M,!a(M))}function oe(){m(y,!a(y))}function he(){Kt(210,70,50),Ut(200,68,50)}Pt(()=>{if(!(!a(n)||!a(o)||!a(r))&&(m(h,a(n).getContext("2d")),m(f,a(o).getContext("2d")),m(p,a(r).getContext("2d")),!(!a(h)||!a(f)||!a(p))))return fe(n,a(n).width=A),fe(n,a(n).height=C),fe(o,a(o).width=A),fe(o,a(o).height=C),fe(r,a(r).width=A),fe(r,a(r).height=C),X(),b(),document.addEventListener("mousemove",ee),document.addEventListener("mouseup",de),P=xe.subscribe(S=>{(S.gradientColor1||S.gradientColor2)&&X()}),()=>{l&&cancelAnimationFrame(l),document.removeEventListener("mousemove",ee),document.removeEventListener("mouseup",de),P&&P()}}),on(()=>{l&&cancelAnimationFrame(l)}),Be(()=>jt,()=>{m(i,jt()||{h:210,s:70,l:50})}),Be(()=>Vt,()=>{m(s,Vt()||{h:200,s:68,l:50})}),Be(()=>(a(i),a(s),a(h),a(f),a(p)),()=>{a(i)&&a(s)&&typeof a(i).h=="number"&&typeof a(s).h=="number"&&(X(),a(h)&&a(f)&&a(p)&&$())}),ot(),Fe();var ve=Ui(),W=d(ve),ge=d(W),Te=d(ge);let me;var we=v(Te,2);let Se;var De=v(we,2);u(ge),u(W);var V=v(W,2),pe=v(d(V),2),Oe=d(pe);Le(Oe,S=>m(n,S),()=>a(n)),u(pe),u(V);var Ge=v(V,2),Ye=v(d(Ge),2),Ue=d(Ye);Le(Ue,S=>m(o,S),()=>a(o)),u(Ye),u(Ge);var _e=v(Ge,2),Ze=v(d(_e),2),Je=d(Ze);Le(Je,S=>m(r,S),()=>a(r)),u(Ze),u(_e);var Qe=v(_e,2),E=d(Qe),z=d(E),te=v(z,2),Ae=d(te);u(te),u(E);var Re=v(E,2),rt=d(Re),ct=v(rt,2),wt=d(ct);u(ct),u(Re),u(Qe),Ke(2),u(ve),ye((S,x,R,Z,J,ae,le,qe)=>{me=ke(Te,1,"control-btn svelte-1bvbq9v",null,me,S),Se=ke(we,1,"control-btn svelte-1bvbq9v",null,Se,x),He(z,`background-color: hsl(${a(i),N(()=>a(i).h)??""}, ${a(i),N(()=>a(i).s)??""}%, ${a(i),N(()=>a(i).l)??""}%)`),Q(Ae,`Gradient 1: ${R??""}Â°, ${Z??""}%, ${J??""}%`),He(rt,`background-color: hsl(${a(s),N(()=>a(s).h)??""}, ${a(s),N(()=>a(s).s)??""}%, ${a(s),N(()=>a(s).l)??""}%)`),Q(wt,`Gradient 2: ${ae??""}Â°, ${le??""}%, ${qe??""}%`)},[()=>({active:a(M)}),()=>({active:a(y)}),()=>(a(i),N(()=>Math.round(a(i).h))),()=>(a(i),N(()=>Math.round(a(i).s))),()=>(a(i),N(()=>Math.round(a(i).l))),()=>(a(s),N(()=>Math.round(a(s).h))),()=>(a(s),N(()=>Math.round(a(s).s))),()=>(a(s),N(()=>Math.round(a(s).l)))]),k("click",Te,ue),k("click",we,oe),k("click",De,he),k("mousedown",Oe,S=>se(S,"hue")),k("mousedown",Ue,S=>se(S,"saturation")),k("mousedown",Je,S=>se(S,"lightness")),re(e,ve),Xe()}var Ji=ce('<div class="timer-settings-panel svelte-1m1yjnh"><h3 class="panel-title svelte-1m1yjnh">Timer Settings</h3> <div class="settings-grid svelte-1m1yjnh"><div class="setting-item svelte-1m1yjnh"><label for="work-duration" class="setting-label svelte-1m1yjnh">Work (min)</label> <input id="work-duration" type="number" min="1" max="120" class="setting-input svelte-1m1yjnh"/></div> <div class="setting-item svelte-1m1yjnh"><label for="short-break-duration" class="setting-label svelte-1m1yjnh">Short Break (min)</label> <input id="short-break-duration" type="number" min="1" max="60" class="setting-input svelte-1m1yjnh"/></div> <div class="setting-item svelte-1m1yjnh"><label for="long-break-duration" class="setting-label svelte-1m1yjnh">Long Break (min)</label> <input id="long-break-duration" type="number" min="1" max="120" class="setting-input svelte-1m1yjnh"/></div> <div class="setting-item svelte-1m1yjnh"><label for="sessions-before-long-break" class="setting-label svelte-1m1yjnh">Sessions Before Long Break</label> <input id="sessions-before-long-break" type="number" min="1" max="10" class="setting-input svelte-1m1yjnh"/></div></div> <div class="toggles-section svelte-1m1yjnh"><div class="toggle-item svelte-1m1yjnh"><label for="auto-cycle" class="toggle-label svelte-1m1yjnh">Auto-cycle sessions</label> <input id="auto-cycle" type="checkbox" class="toggle-input svelte-1m1yjnh"/></div> <div class="toggle-item svelte-1m1yjnh"><label for="floating-enabled" class="toggle-label svelte-1m1yjnh">Enable floating effects</label> <input id="floating-enabled" type="checkbox" class="toggle-input svelte-1m1yjnh"/></div></div> <button type="button" class="reset-button svelte-1m1yjnh">Reset to Defaults</button></div>');function Qi(e,t){Ne(t,!1);const[i,s]=lt(),n=()=>ze(Ee,"$timerSettings",i),o=()=>ze(xe,"$backgroundSettings",i);let r=T(n().workDuration/60),l=T(n().shortBreakDuration/60),h=T(n().longBreakDuration/60),f=T(n().sessionsBeforeLongBreak),p=T(n().autoCycle),y=T(o().isFloatingEnabled);Ee.subscribe(b=>{b.workDuration/60!==a(r)&&m(r,b.workDuration/60),b.shortBreakDuration/60!==a(l)&&m(l,b.shortBreakDuration/60),b.longBreakDuration/60!==a(h)&&m(h,b.longBreakDuration/60),b.sessionsBeforeLongBreak!==a(f)&&m(f,b.sessionsBeforeLongBreak),b.autoCycle!==a(p)&&m(p,b.autoCycle)}),xe.subscribe(b=>{b.isFloatingEnabled!==a(y)&&m(y,b.isFloatingEnabled)});function M(){Rn(),Ee.set({workDuration:1500,shortBreakDuration:300,longBreakDuration:900,sessionsBeforeLongBreak:4,autoCycle:!1})}Be(()=>(a(r),a(l),a(h),a(f),a(p),n(),Ee),()=>{const b={workDuration:Math.max(1,a(r))*60,shortBreakDuration:Math.max(1,a(l))*60,longBreakDuration:Math.max(1,a(h))*60,sessionsBeforeLongBreak:Math.max(1,a(f)),autoCycle:a(p)};(n().workDuration!==b.workDuration||n().shortBreakDuration!==b.shortBreakDuration||n().longBreakDuration!==b.longBreakDuration||n().sessionsBeforeLongBreak!==b.sessionsBeforeLongBreak||n().autoCycle!==b.autoCycle)&&Ee.set(b)}),Be(()=>(o(),a(y),xe),()=>{o().isFloatingEnabled!==a(y)&&xe.update(b=>({...b,isFloatingEnabled:a(y)}))}),ot(),Fe();var g=Ji(),c=v(d(g),2),w=d(c),A=v(d(w),2);q(A),u(w);var C=v(w,2),_=v(d(C),2);q(_),u(C);var j=v(C,2),O=v(d(j),2);q(O),u(j);var I=v(j,2),B=v(d(I),2);q(B),u(I),u(c);var D=v(c,2),G=d(D),F=v(d(G),2);q(F),u(G);var P=v(G,2),X=v(d(P),2);q(X),u(P),u(D);var ne=v(D,2);u(g),be(A,()=>a(r),b=>m(r,b)),be(_,()=>a(l),b=>m(l,b)),be(O,()=>a(h),b=>m(h,b)),be(B,()=>a(f),b=>m(f,b)),tt(F,()=>a(p),b=>m(p,b)),tt(X,()=>a(y),b=>m(y,b)),k("click",ne,M),re(e,g),Xe(),s()}var es=ce('<div class="controls-grid svelte-6z4cat"><div class="control-item svelte-6z4cat"><label class="control-label svelte-6z4cat">Size</label> <div class="slider-container svelte-6z4cat"><input type="range" min="20" max="150" class="slider svelte-6z4cat"/> <span class="value-display svelte-6z4cat"> </span></div></div> <div class="control-item svelte-6z4cat"><label class="control-label svelte-6z4cat">Speed</label> <div class="slider-container svelte-6z4cat"><input type="range" min="0.1" max="1.0" step="0.05" class="slider svelte-6z4cat"/> <span class="value-display svelte-6z4cat"> </span></div></div> <div class="control-item svelte-6z4cat"><label class="control-label svelte-6z4cat">Ambient Frequency</label> <div class="slider-container svelte-6z4cat"><input type="range" min="1000" max="10000" step="500" class="slider svelte-6z4cat"/> <span class="value-display svelte-6z4cat"> </span></div></div></div>'),ts=ce('<div class="controls-grid svelte-6z4cat"><div class="control-item svelte-6z4cat"><label class="control-label svelte-6z4cat">Intensity</label> <div class="slider-container svelte-6z4cat"><input type="range" min="0.1" max="1.0" step="0.05" class="slider svelte-6z4cat"/> <span class="value-display svelte-6z4cat"> </span></div></div> <div class="control-item svelte-6z4cat"><label class="control-label svelte-6z4cat">Speed</label> <div class="slider-container svelte-6z4cat"><input type="range" min="0.5" max="2.0" step="0.1" class="slider svelte-6z4cat"/> <span class="value-display svelte-6z4cat"> </span></div></div> <div class="control-item svelte-6z4cat"><label class="control-label svelte-6z4cat">Count</label> <div class="slider-container svelte-6z4cat"><input type="range" min="1" max="10" class="slider svelte-6z4cat"/> <span class="value-display svelte-6z4cat"> </span></div></div></div>'),as=ce('<div class="effects-panel svelte-6z4cat"><h3 class="panel-title svelte-6z4cat">Water Effects</h3> <div class="effect-section svelte-6z4cat"><div class="section-header svelte-6z4cat"><h4 class="section-title svelte-6z4cat">Ripples</h4> <label class="toggle-wrapper svelte-6z4cat"><input type="checkbox" class="toggle-input svelte-6z4cat"/> <span class="toggle-label svelte-6z4cat">Enable</span></label></div> <!></div> <div class="effect-section svelte-6z4cat"><div class="section-header svelte-6z4cat"><h4 class="section-title svelte-6z4cat">Wave Shimmer</h4> <label class="toggle-wrapper svelte-6z4cat"><input type="checkbox" class="toggle-input svelte-6z4cat"/> <span class="toggle-label svelte-6z4cat">Enable</span></label></div> <!></div> <button type="button" class="reset-button svelte-6z4cat">Reset to Defaults</button></div>');function ns(e,t){Ne(t,!1);const i=wa();let s=T(!0),n=T(50),o=T(.35),r=T(3e3),l=T(!0),h=T(.5),f=T(1),p=T(5);function y(){i("update",{ripples:{enabled:a(s),size:a(n),speed:a(o),frequency:a(r)},shimmer:{enabled:a(l),intensity:a(h),speed:a(f),count:a(p)}})}function M(){m(s,!0),m(n,50),m(o,.35),m(r,3e3),m(l,!0),m(h,.5),m(f,1),m(p,5),y()}Fe();var g=as(),c=v(d(g),2),w=d(c),A=v(d(w),2),C=d(A);q(C),Ke(2),u(A),u(w);var _=v(w,2);{var j=X=>{var ne=es(),b=d(ne),$=v(d(b),2),L=d($);q(L);var Y=v(L,2),K=d(Y,!0);u(Y),u($),u(b);var H=v(b,2),ie=v(d(H),2),se=d(ie);q(se);var ee=v(se,2),de=d(ee,!0);u(ee),u(ie),u(H);var U=v(H,2),ue=v(d(U),2),oe=d(ue);q(oe);var he=v(oe,2),ve=d(he);u(he),u(ue),u(U),u(ne),ye((W,ge)=>{Q(K,a(n)),Q(de,W),Q(ve,`${ge??""}s`)},[()=>a(o).toFixed(2),()=>(a(r)/1e3).toFixed(1)]),be(L,()=>a(n),W=>m(n,W)),k("input",L,y),be(se,()=>a(o),W=>m(o,W)),k("input",se,y),be(oe,()=>a(r),W=>m(r,W)),k("input",oe,y),re(X,ne)};Ce(_,X=>{a(s)&&X(j)})}u(c);var O=v(c,2),I=d(O),B=v(d(I),2),D=d(B);q(D),Ke(2),u(B),u(I);var G=v(I,2);{var F=X=>{var ne=ts(),b=d(ne),$=v(d(b),2),L=d($);q(L);var Y=v(L,2),K=d(Y);u(Y),u($),u(b);var H=v(b,2),ie=v(d(H),2),se=d(ie);q(se);var ee=v(se,2),de=d(ee);u(ee),u(ie),u(H);var U=v(H,2),ue=v(d(U),2),oe=d(ue);q(oe);var he=v(oe,2),ve=d(he,!0);u(he),u(ue),u(U),u(ne),ye((W,ge)=>{Q(K,`${W??""}%`),Q(de,`${ge??""}x`),Q(ve,a(p))},[()=>Math.round(a(h)*100),()=>a(f).toFixed(1)]),be(L,()=>a(h),W=>m(h,W)),k("input",L,y),be(se,()=>a(f),W=>m(f,W)),k("input",se,y),be(oe,()=>a(p),W=>m(p,W)),k("input",oe,y),re(X,ne)};Ce(G,X=>{a(l)&&X(F)})}u(O);var P=v(O,2);u(g),tt(C,()=>a(s),X=>m(s,X)),k("change",C,y),tt(D,()=>a(l),X=>m(l,X)),k("change",D,y),k("click",P,M),re(e,g),Xe()}var is=ce('<div class="controls-grid svelte-av21hg"><div class="control-item svelte-av21hg"><label for="grain-density" class="control-label svelte-av21hg">Density</label> <div class="slider-container svelte-av21hg"><input id="grain-density" type="range" min="100" max="1200" step="50" class="slider svelte-av21hg"/> <span class="value-display svelte-av21hg"> </span></div></div> <div class="control-item svelte-av21hg"><label for="grain-speed" class="control-label svelte-av21hg">Speed</label> <div class="slider-container svelte-av21hg"><input id="grain-speed" type="range" min="0.05" max="0.25" step="0.01" class="slider svelte-av21hg"/> <span class="value-display svelte-av21hg"> </span></div></div> <div class="control-item svelte-av21hg"><label for="grain-size" class="control-label svelte-av21hg">Size</label> <div class="slider-container svelte-av21hg"><input id="grain-size" type="range" min="0.5" max="1.25" step="0.05" class="slider svelte-av21hg"/> <span class="value-display svelte-av21hg"> </span></div></div> <div class="control-item svelte-av21hg"><label for="grain-opacity" class="control-label svelte-av21hg">Opacity</label> <div class="slider-container svelte-av21hg"><input id="grain-opacity" type="range" min="0.1" max="0.8" step="0.05" class="slider svelte-av21hg"/> <span class="value-display svelte-av21hg"> </span></div></div></div>'),ss=ce('<div class="controls-grid svelte-av21hg"><div class="control-item svelte-av21hg"><label for="foam-frequency" class="control-label svelte-av21hg">Frequency</label> <div class="slider-container svelte-av21hg"><input id="foam-frequency" type="range" min="0.005" max="0.05" step="0.005" class="slider svelte-av21hg"/> <span class="value-display svelte-av21hg"> </span></div></div> <div class="control-item svelte-av21hg"><label for="foam-lifetime" class="control-label svelte-av21hg">Lifetime</label> <div class="slider-container svelte-av21hg"><input id="foam-lifetime" type="range" min="60" max="200" step="10" class="slider svelte-av21hg"/> <span class="value-display svelte-av21hg"> </span></div></div> <div class="control-item svelte-av21hg"><label for="foam-complexity" class="control-label svelte-av21hg">Complexity</label> <div class="slider-container svelte-av21hg"><input id="foam-complexity" type="range" min="25" max="100" step="5" class="slider svelte-av21hg"/> <span class="value-display svelte-av21hg"> </span></div></div> <div class="control-item svelte-av21hg"><label for="foam-branchiness" class="control-label svelte-av21hg">Branchiness</label> <div class="slider-container svelte-av21hg"><input id="foam-branchiness" type="range" min="0" max="0.5" step="0.05" class="slider svelte-av21hg"/> <span class="value-display svelte-av21hg"> </span></div></div> <div class="control-item svelte-av21hg"><label for="foam-opacity" class="control-label svelte-av21hg">Opacity</label> <div class="slider-container svelte-av21hg"><input id="foam-opacity" type="range" min="0.3" max="1.0" step="0.05" class="slider svelte-av21hg"/> <span class="value-display svelte-av21hg"> </span></div></div></div>'),os=ce('<div class="effects-panel svelte-av21hg"><h3 class="panel-title svelte-av21hg">Particle Effects</h3> <div class="effect-section svelte-av21hg"><div class="section-header svelte-av21hg"><h4 class="section-title svelte-av21hg">Water Grains</h4> <label class="toggle-wrapper svelte-av21hg"><input type="checkbox" class="toggle-input svelte-av21hg"/> <span class="toggle-label svelte-av21hg">Enable</span></label></div> <!></div> <div class="effect-section svelte-av21hg"><div class="section-header svelte-av21hg"><h4 class="section-title svelte-av21hg">Foam Streaks</h4> <label class="toggle-wrapper svelte-av21hg"><input type="checkbox" class="toggle-input svelte-av21hg"/> <span class="toggle-label svelte-av21hg">Enable</span></label></div> <!></div> <button type="button" class="reset-button svelte-av21hg">Reset to Defaults</button></div>');function ls(e,t){Ne(t,!1);const i=wa();let s=T(!0),n=T(600),o=T(.15),r=T(.875),l=T(.4),h=T(!0),f=T(.02),p=T(120),y=T(50),M=T(.25),g=T(.7);function c(){i("update",{waterGrains:{enabled:a(s),density:a(n),speed:a(o),size:a(r),opacity:a(l)},foam:{enabled:a(h),frequency:a(f),lifetime:a(p),complexity:a(y),branchiness:a(M),opacity:a(g)}})}function w(){m(s,!0),m(n,600),m(o,.15),m(r,.875),m(l,.4),m(h,!0),m(f,.02),m(p,120),m(y,50),m(M,.25),m(g,.7),c()}Fe();var A=os(),C=v(d(A),2),_=d(C),j=v(d(_),2),O=d(j);q(O),Ke(2),u(j),u(_);var I=v(_,2);{var B=$=>{var L=is(),Y=d(L),K=v(d(Y),2),H=d(K);q(H);var ie=v(H,2),se=d(ie,!0);u(ie),u(K),u(Y);var ee=v(Y,2),de=v(d(ee),2),U=d(de);q(U);var ue=v(U,2),oe=d(ue,!0);u(ue),u(de),u(ee);var he=v(ee,2),ve=v(d(he),2),W=d(ve);q(W);var ge=v(W,2),Te=d(ge,!0);u(ge),u(ve),u(he);var me=v(he,2),we=v(d(me),2),Se=d(we);q(Se);var De=v(Se,2),V=d(De);u(De),u(we),u(me),u(L),ye((pe,Oe,Ge)=>{Q(se,a(n)),Q(oe,pe),Q(Te,Oe),Q(V,`${Ge??""}%`)},[()=>a(o).toFixed(2),()=>a(r).toFixed(2),()=>Math.round(a(l)*100)]),be(H,()=>a(n),pe=>m(n,pe)),k("input",H,c),be(U,()=>a(o),pe=>m(o,pe)),k("input",U,c),be(W,()=>a(r),pe=>m(r,pe)),k("input",W,c),be(Se,()=>a(l),pe=>m(l,pe)),k("input",Se,c),re($,L)};Ce(I,$=>{a(s)&&$(B)})}u(C);var D=v(C,2),G=d(D),F=v(d(G),2),P=d(F);q(P),Ke(2),u(F),u(G);var X=v(G,2);{var ne=$=>{var L=ss(),Y=d(L),K=v(d(Y),2),H=d(K);q(H);var ie=v(H,2),se=d(ie);u(ie),u(K),u(Y);var ee=v(Y,2),de=v(d(ee),2),U=d(de);q(U);var ue=v(U,2),oe=d(ue);u(ue),u(de),u(ee);var he=v(ee,2),ve=v(d(he),2),W=d(ve);q(W);var ge=v(W,2),Te=d(ge,!0);u(ge),u(ve),u(he);var me=v(he,2),we=v(d(me),2),Se=d(we);q(Se);var De=v(Se,2),V=d(De);u(De),u(we),u(me);var pe=v(me,2),Oe=v(d(pe),2),Ge=d(Oe);q(Ge);var Ye=v(Ge,2),Ue=d(Ye);u(Ye),u(Oe),u(pe),u(L),ye((_e,Ze,Je,Qe)=>{Q(se,`${_e??""}%`),Q(oe,`${Ze??""}s`),Q(Te,a(y)),Q(V,`${Je??""}%`),Q(Ue,`${Qe??""}%`)},[()=>(a(f)*100).toFixed(1),()=>(a(p)/60).toFixed(1),()=>Math.round(a(M)*100),()=>Math.round(a(g)*100)]),be(H,()=>a(f),_e=>m(f,_e)),k("input",H,c),be(U,()=>a(p),_e=>m(p,_e)),k("input",U,c),be(W,()=>a(y),_e=>m(y,_e)),k("input",W,c),be(Se,()=>a(M),_e=>m(M,_e)),k("input",Se,c),be(Ge,()=>a(g),_e=>m(g,_e)),k("input",Ge,c),re($,L)};Ce(X,$=>{a(h)&&$(ne)})}u(D);var b=v(D,2);u(A),tt(O,()=>a(s),$=>m(s,$)),k("change",O,c),tt(P,()=>a(h),$=>m(h,$)),k("change",P,c),k("click",b,w),re(e,A),Xe()}var rs=ce('<div class="effects-panel svelte-xo34d7"><h3 class="panel-title svelte-xo34d7">Light Effects</h3> <div class="effect-section svelte-xo34d7"><div class="section-header svelte-xo34d7"><h4 class="section-title svelte-xo34d7">Sun Glow</h4> <label class="toggle svelte-xo34d7"><input type="checkbox" class="svelte-xo34d7"/> <span class="toggle-slider svelte-xo34d7"></span></label></div> <div class="control-group svelte-xo34d7"><label class="control-label svelte-xo34d7"><span>Intensity</span> <span class="value svelte-xo34d7"> </span></label> <input type="range" class="slider yellow-slider svelte-xo34d7" min="0" max="1" step="0.01"/></div> <div class="control-group svelte-xo34d7"><label class="control-label svelte-xo34d7"><span>Size</span> <span class="value svelte-xo34d7"> </span></label> <input type="range" class="slider yellow-slider svelte-xo34d7" min="50" max="300" step="10"/></div> <div class="control-group svelte-xo34d7"><label class="control-label svelte-xo34d7"><span>Blur Amount</span> <span class="value svelte-xo34d7"> </span></label> <input type="range" class="slider yellow-slider svelte-xo34d7" min="20" max="100" step="5"/></div></div> <div class="effect-section svelte-xo34d7"><div class="section-header svelte-xo34d7"><h4 class="section-title svelte-xo34d7">Glints</h4> <label class="toggle svelte-xo34d7"><input type="checkbox" class="svelte-xo34d7"/> <span class="toggle-slider svelte-xo34d7"></span></label></div> <div class="control-group svelte-xo34d7"><label class="control-label svelte-xo34d7"><span>Frequency</span> <span class="value svelte-xo34d7"> </span></label> <input type="range" class="slider yellow-slider svelte-xo34d7" min="5" max="50" step="5"/></div> <div class="control-group svelte-xo34d7"><label class="control-label svelte-xo34d7"><span>Brightness</span> <span class="value svelte-xo34d7"> </span></label> <input type="range" class="slider yellow-slider svelte-xo34d7" min="0.5" max="1" step="0.05"/></div> <div class="control-group svelte-xo34d7"><label class="control-label svelte-xo34d7"><span>Duration</span> <span class="value svelte-xo34d7"> </span></label> <input type="range" class="slider yellow-slider svelte-xo34d7" min="100" max="1000" step="50"/></div> <div class="control-group svelte-xo34d7"><label class="control-label svelte-xo34d7"><span>Size</span> <span class="value svelte-xo34d7"> </span></label> <input type="range" class="slider yellow-slider svelte-xo34d7" min="2" max="8" step="0.5"/></div></div></div>');function cs(e,t){Ne(t,!1);const[i,s]=lt(),n=()=>ze(xe,"$backgroundSettings",i),o=T();function r(V,pe){xe.update(Oe=>({...Oe,[V]:pe}))}Be(()=>n(),()=>{m(o,n())}),ot(),Fe();var l=rs(),h=v(d(l),2),f=d(h),p=v(d(f),2),y=d(p);q(y),Ke(2),u(p),u(f);var M=v(f,2),g=d(M),c=v(d(g),2),w=d(c);u(c),u(g);var A=v(g,2);q(A),u(M);var C=v(M,2),_=d(C),j=v(d(_),2),O=d(j);u(j),u(_);var I=v(_,2);q(I),u(C);var B=v(C,2),D=d(B),G=v(d(D),2),F=d(G);u(G),u(D);var P=v(D,2);q(P),u(B),u(h);var X=v(h,2),ne=d(X),b=v(d(ne),2),$=d(b);q($),Ke(2),u(b),u(ne);var L=v(ne,2),Y=d(L),K=v(d(Y),2),H=d(K,!0);u(K),u(Y);var ie=v(Y,2);q(ie),u(L);var se=v(L,2),ee=d(se),de=v(d(ee),2),U=d(de);u(de),u(ee);var ue=v(ee,2);q(ue),u(se);var oe=v(se,2),he=d(oe),ve=v(d(he),2),W=d(ve);u(ve),u(he);var ge=v(he,2);q(ge),u(oe);var Te=v(oe,2),me=d(Te),we=v(d(me),2),Se=d(we);u(we),u(me);var De=v(me,2);q(De),u(Te),u(X),u(l),ye((V,pe)=>{Ht(y,(a(o),N(()=>a(o).sunGlowEnabled))),Q(w,`${V??""}%`),je(A,(a(o),N(()=>a(o).sunGlowIntensity))),Q(O,`${a(o),N(()=>a(o).sunGlowSize)??""}px`),je(I,(a(o),N(()=>a(o).sunGlowSize))),Q(F,`${a(o),N(()=>a(o).sunGlowBlur)??""}px`),je(P,(a(o),N(()=>a(o).sunGlowBlur))),Ht($,(a(o),N(()=>a(o).glintsEnabled))),Q(H,(a(o),N(()=>a(o).glintFrequency))),je(ie,(a(o),N(()=>a(o).glintFrequency))),Q(U,`${pe??""}%`),je(ue,(a(o),N(()=>a(o).glintBrightness))),Q(W,`${a(o),N(()=>a(o).glintDuration)??""}ms`),je(ge,(a(o),N(()=>a(o).glintDuration))),Q(Se,`${a(o),N(()=>a(o).glintSize)??""}px`),je(De,(a(o),N(()=>a(o).glintSize)))},[()=>(a(o),N(()=>Math.round(a(o).sunGlowIntensity*100))),()=>(a(o),N(()=>Math.round(a(o).glintBrightness*100)))]),k("change",y,V=>r("sunGlowEnabled",V.currentTarget.checked)),k("input",A,V=>r("sunGlowIntensity",parseFloat(V.currentTarget.value))),k("input",I,V=>r("sunGlowSize",parseInt(V.currentTarget.value))),k("input",P,V=>r("sunGlowBlur",parseInt(V.currentTarget.value))),k("change",$,V=>r("glintsEnabled",V.currentTarget.checked)),k("input",ie,V=>r("glintFrequency",parseInt(V.currentTarget.value))),k("input",ue,V=>r("glintBrightness",parseFloat(V.currentTarget.value))),k("input",ge,V=>r("glintDuration",parseInt(V.currentTarget.value))),k("input",De,V=>r("glintSize",parseFloat(V.currentTarget.value))),re(e,l),Xe(),s()}var ds=ce("<div><!></div>"),us=ce("<div><!></div>"),vs=ce("<div><!></div>"),gs=ce("<div><!></div>"),hs=ce("<div><!></div>"),ps=ce('<div><div class="placeholder-panel svelte-1ckj34h"><h3 class="svelte-1ckj34h">Master Settings</h3> <p class="svelte-1ckj34h">Coming soon...</p></div></div>'),fs=ce('<div role="toolbar" aria-label="Background Effects Dock" tabindex="0"><div class="flex items-end gap-2 px-4 py-3 bg-black/80 backdrop-blur-md border border-white/10 rounded-2xl shadow-2xl" role="group"><button title="Professional HSL Color Picker" aria-label="Professional HSL Color Picker"><span class="dock-icon text-3xl svelte-1ckj34h">ð¨</span></button> <button title="Water Effects" aria-label="Water Effects"><span class="dock-icon text-3xl svelte-1ckj34h">ð</span></button> <button title="Light Effects" aria-label="Light Effects"><span class="dock-icon text-3xl svelte-1ckj34h">â¨</span></button> <button title="Particle Effects" aria-label="Particle Effects"><span class="dock-icon text-3xl svelte-1ckj34h">ð«</span></button> <button title="Timer Settings" aria-label="Timer Settings"><span class="dock-icon text-3xl svelte-1ckj34h">â±ï¸</span></button> <button title="Master Settings" aria-label="Master Settings"><span class="dock-icon text-3xl svelte-1ckj34h">âï¸</span></button></div> <!> <!> <!> <!> <!> <!></div>');function ms(e,t){Ne(t,!1);let i=T(),s=T(!1),n,o=0,r=0,l=T(!1),h=T(!1),f=T(!1),p=T(!1),y=T(!1),M=T(!1),g=T(-1),c=T([]);const w=100,A=3e3;Pt(()=>{const E=te=>{o=te.clientY,C()},z=()=>{r=window.innerHeight};return window.addEventListener("mousemove",E),window.addEventListener("resize",z),z(),()=>{window.removeEventListener("mousemove",E),window.removeEventListener("resize",z),n&&clearTimeout(n)}});function C(){const z=r-o<=w;z&&!a(s)?_():!z&&a(s)&&O()}function _(){m(s,!0),n&&(clearTimeout(n),n=0)}function j(){m(s,!1)}function O(){n&&clearTimeout(n),n=setTimeout(j,A)}function I(){_()}function B(){O()}function D(){m(l,!1),m(h,!1),m(f,!1),m(p,!1),m(y,!1),m(M,!1)}function G(){D(),m(l,!0),_()}function F(){D(),m(h,!0),_()}function P(){D(),m(f,!0),_()}function X(){D(),m(p,!0),_()}function ne(){D(),m(y,!0),_()}function b(){D(),m(M,!0),_()}function $(E){switch(E){case"colors":G();break;case"timer":F();break;case"water":P();break;case"light":X();break;case"particles":ne();break;case"settings":b();break}}function L(E){m(g,E)}function Y(){m(g,-1)}function K(E,z){if(z===-1)return 1;const te=Math.abs(E-z);return te===0?1.6:te===1?1.3:te===2?1.1:1}Fe();var H=fs();let ie;var se=d(H),ee=d(se);let de;Le(ee,E=>fe(c,a(c)[0]=E),()=>a(c)?.[0]);var U=v(ee,2);let ue;Le(U,E=>fe(c,a(c)[1]=E),()=>a(c)?.[1]);var oe=v(U,2);let he;Le(oe,E=>fe(c,a(c)[2]=E),()=>a(c)?.[2]);var ve=v(oe,2);let W;Le(ve,E=>fe(c,a(c)[3]=E),()=>a(c)?.[3]);var ge=v(ve,2);let Te;Le(ge,E=>fe(c,a(c)[4]=E),()=>a(c)?.[4]);var me=v(ge,2);let we;Le(me,E=>fe(c,a(c)[5]=E),()=>a(c)?.[5]),u(se);var Se=v(se,2);{var De=E=>{var z=ds();let te;var Ae=d(z);Zi(Ae,{}),u(z),ye(Re=>te=ke(z,1,"panel-container color-grid-panel svelte-1ckj34h",null,te,Re),[()=>({visible:a(l)})]),re(E,z)};Ce(Se,E=>{a(l)&&E(De)})}var V=v(Se,2);{var pe=E=>{var z=us();let te;var Ae=d(z);Qi(Ae,{}),u(z),ye(Re=>te=ke(z,1,"panel-container timer-settings-panel svelte-1ckj34h",null,te,Re),[()=>({visible:a(h)})]),re(E,z)};Ce(V,E=>{a(h)&&E(pe)})}var Oe=v(V,2);{var Ge=E=>{var z=vs();let te;var Ae=d(z);ns(Ae,{}),u(z),ye(Re=>te=ke(z,1,"panel-container water-effects-panel svelte-1ckj34h",null,te,Re),[()=>({visible:a(f)})]),re(E,z)};Ce(Oe,E=>{a(f)&&E(Ge)})}var Ye=v(Oe,2);{var Ue=E=>{var z=gs();let te;var Ae=d(z);cs(Ae,{}),u(z),ye(Re=>te=ke(z,1,"panel-container light-effects-panel svelte-1ckj34h",null,te,Re),[()=>({visible:a(p)})]),re(E,z)};Ce(Ye,E=>{a(p)&&E(Ue)})}var _e=v(Ye,2);{var Ze=E=>{var z=hs();let te;var Ae=d(z);ls(Ae,{}),u(z),ye(Re=>te=ke(z,1,"panel-container particle-effects-panel svelte-1ckj34h",null,te,Re),[()=>({visible:a(y)})]),re(E,z)};Ce(_e,E=>{a(y)&&E(Ze)})}var Je=v(_e,2);{var Qe=E=>{var z=ps();let te;ye(Ae=>te=ke(z,1,"panel-container master-settings-panel svelte-1ckj34h",null,te,Ae),[()=>({visible:a(M)})]),re(E,z)};Ce(Je,E=>{a(M)&&E(Qe)})}u(H),Le(H,E=>m(i,E),()=>a(i)),ye((E,z,te,Ae,Re,rt,ct,wt,S,x,R,Z,J)=>{ie=ke(H,1,"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 transition-all duration-300 ease-out",null,ie,E),de=ke(ee,1,"dock-item group svelte-1ckj34h",null,de,z),He(ee,`transform: scale(${te??""})`),ue=ke(U,1,"dock-item group svelte-1ckj34h",null,ue,Ae),He(U,`transform: scale(${Re??""})`),he=ke(oe,1,"dock-item group svelte-1ckj34h",null,he,rt),He(oe,`transform: scale(${ct??""})`),W=ke(ve,1,"dock-item group svelte-1ckj34h",null,W,wt),He(ve,`transform: scale(${S??""})`),Te=ke(ge,1,"dock-item group svelte-1ckj34h",null,Te,x),He(ge,`transform: scale(${R??""})`),we=ke(me,1,"dock-item group svelte-1ckj34h",null,we,Z),He(me,`transform: scale(${J??""})`)},[()=>({"translate-y-24":!a(s),"opacity-0":!a(s),"pointer-events-none":!a(s)}),()=>({active:a(l)}),()=>K(0,a(g)),()=>({active:a(f)}),()=>K(1,a(g)),()=>({active:a(p)}),()=>K(2,a(g)),()=>({active:a(y)}),()=>K(3,a(g)),()=>({active:a(h)}),()=>K(4,a(g)),()=>({active:a(M)}),()=>K(5,a(g))]),k("click",ee,()=>$("colors")),k("mouseenter",ee,()=>L(0)),k("click",U,()=>$("water")),k("mouseenter",U,()=>L(1)),k("click",oe,()=>$("light")),k("mouseenter",oe,()=>L(2)),k("click",ve,()=>$("particles")),k("mouseenter",ve,()=>L(3)),k("click",ge,()=>$("timer")),k("mouseenter",ge,()=>L(4)),k("click",me,()=>$("settings")),k("mouseenter",me,()=>L(5)),k("mouseleave",se,Y),k("mouseenter",H,I),k("mouseleave",H,B),re(e,H),Xe()}var bs=ce('<meta name="description" content="A beautiful Pomodoro timer with interactive background effects"/>'),ys=ce('<span class="text-sm text-white/60 block mt-1"> </span>'),_s=ce('<div class="text-lg font-medium text-white/80"> <!></div>'),Ss=ce('<!> <!> <main class="relative z-10 flex min-h-screen flex-col items-center justify-center px-4 py-8 transition-all duration-1000 ease-in-out"><div class="w-full max-w-md space-y-8 text-center"><!> <!> <!></div></main>',1);function Is(e,t){Ne(t,!1);const[i,s]=lt(),n=()=>ze(xe,"$backgroundSettings",i),o=()=>ze(Me,"$timerState",i),r=()=>ze(Ee,"$timerSettings",i);function l(C){switch(C){case"Work":return"Focus Session";case"Short Break":return"Short Break";case"Long Break":return"Long Break";default:return"Session"}}Fe();var h=Ss();ln(C=>{var _=bs();an.title="Locked-In Pomodoro Timer",re(C,_)});var f=tn(h);Ki(f,{get gradientColor1(){return n().gradientColor1},get gradientColor2(){return n().gradientColor2}});var p=v(f,2);ms(p,{});var y=v(p,2),M=d(y),g=d(M);Sn(g,{});var c=v(g,2);{var w=C=>{var _=_s(),j=d(_),O=v(j);{var I=B=>{var D=ys(),G=d(D);u(D),ye(()=>Q(G,`Session ${o().currentCycleCount+1} of ${r().sessionsBeforeLongBreak??""}`)),re(B,D)};Ce(O,B=>{o().currentSession==="Work"&&B(I)})}u(_),ye(B=>Q(j,`${B??""} `),[()=>l(o().currentSession)]),re(C,_)};Ce(c,C=>{o().currentSession&&C(w)})}var A=v(c,2);An(A,{}),u(M),u(y),re(e,h),Xe(),s()}export{Is as component};
